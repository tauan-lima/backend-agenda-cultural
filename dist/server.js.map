{"version":3,"sources":["../src/auth/jwt.ts","../prisma/@prisma/client/internal/class.ts","../prisma/@prisma/client/internal/prismaNamespace.ts","../prisma/@prisma/client/enums.ts","../prisma/@prisma/client/client.ts","../src/database/prisma.ts","../src/utils/exceptions/http.ts","../src/services/RefreshTokenService.ts","../src/services/permissionService.ts","../src/routes/authRouter.ts","../src/controllers/AuthenticationController.ts","../src/routes/authenticationRouter.ts","../src/controllers/EventController.ts","../src/middlewares/AuthenticationHandler.ts","../src/middlewares/AuthontizationHandler.ts","../src/routes/eventRouter.ts","../src/controllers/PromoterController.ts","../src/routes/promoterRouter.ts","../src/controllers/EventRegistrationController.ts","../src/routes/eventRegistrationRouter.ts","../src/controllers/SavedEventController.ts","../src/routes/savedEventRouter.ts","../src/controllers/AdminStatsController.ts","../src/routes/adminRouter.ts","../src/routes/index.ts","../src/middlewares/requestErrorHandler.ts","../src/app.ts","../src/server.ts"],"names":["Buffer","runtime","runtime2","path","fileURLToPath","Pool","PrismaPg","NodeCache","randomBytes","randomUUID","Router","sign","z","hash","compare","verify","ZodError","express","cors"],"mappings":"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","file":"server.js","sourcesContent":["import 'dotenv/config';\nimport { SignOptions } from \"jsonwebtoken\"\n\nexport const authConfig: {\n  secret: string;\n  expiresIn: SignOptions[\"expiresIn\"];\n} = {\n  secret: process.env.JWT_PRIVATE_KEY || process.env.JWT_SECRET || \"defaultSecret\",\n  expiresIn: (process.env.JWT_TIMEOUT || process.env.AUTH_EXPIRES_IN || \"1d\") as SignOptions[\"expiresIn\"],\n}\n","\n/* !!! This is code generated by Prisma. Do not edit directly. !!! */\n/* eslint-disable */\n// biome-ignore-all lint: generated file\n// @ts-nocheck \n/*\n * WARNING: This is an internal file that is subject to change!\n *\n *  Under no circumstances should you import this file directly! \n *\n * Please import the `PrismaClient` class from the `client.ts` file instead.\n */\n\nimport * as runtime from \"@prisma/client/runtime/client\"\nimport type * as Prisma from \"./prismaNamespace.js\"\n\n\nconst config: runtime.GetPrismaClientConfig = {\n  \"previewFeatures\": [],\n  \"clientVersion\": \"7.0.1\",\n  \"engineVersion\": \"f09f2815f091dbba658cdcd2264306d88bb5bda6\",\n  \"activeProvider\": \"postgresql\",\n  \"inlineSchema\": \"// This is your Prisma schema file,\\n// learn more about it in the docs: https://pris.ly/d/prisma-schema\\n\\n// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?\\n// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init\\n\\ngenerator client {\\n  provider = \\\"prisma-client\\\"\\n  output   = \\\"@prisma/client\\\"\\n}\\n\\ndatasource db {\\n  provider = \\\"postgresql\\\"\\n}\\n\\nenum UserRole {\\n  ADMIN\\n  PROMOTER\\n  USER\\n}\\n\\nenum EventStatus {\\n  PENDING\\n  APPROVED\\n  REJECTED\\n  CANCELLED\\n}\\n\\nmodel User {\\n  id         String    @id @default(uuid())\\n  name       String\\n  email      String    @unique\\n  password   String\\n  role       UserRole  @default(USER)\\n  // Para promoters aguardando aprovao\\n  approvedAt DateTime?\\n  approvedBy String? // ID do admin que aprovou\\n  createdAt  DateTime  @default(now())\\n  updatedAt  DateTime  @updatedAt\\n\\n  // Relaes\\n  approvedPromoters  User[]              @relation(\\\"PromoterApprovals\\\")\\n  approver           User?               @relation(\\\"PromoterApprovals\\\", fields: [approvedBy], references: [id])\\n  createdEvents      Event[]\\n  eventRegistrations EventRegistration[]\\n  savedEvents        SavedEvent[]\\n\\n  @@map(\\\"users\\\")\\n}\\n\\nmodel Event {\\n  id                   String      @id @default(uuid())\\n  title                String\\n  description          String      @db.Text\\n  location             String\\n  startDate            DateTime\\n  endDate              DateTime\\n  imageUrl             String?\\n  // Se o evento requer inscrio ou  aberto ao pblico\\n  requiresRegistration Boolean     @default(true)\\n  // Status de aprovao do evento\\n  status               EventStatus @default(PENDING)\\n  // Promoter que criou o evento\\n  promoterId           String\\n  promoter             User        @relation(fields: [promoterId], references: [id], onDelete: Cascade)\\n  // Admin que aprovou/rejeitou o evento\\n  approvedBy           String?\\n  approvedAt           DateTime?\\n  rejectionReason      String?     @db.Text\\n  createdAt            DateTime    @default(now())\\n  updatedAt            DateTime    @updatedAt\\n\\n  // Relaes\\n  registrations EventRegistration[]\\n  savedByUsers  SavedEvent[]\\n\\n  @@index([promoterId])\\n  @@index([status])\\n  @@index([startDate])\\n  @@map(\\\"events\\\")\\n}\\n\\nmodel EventRegistration {\\n  id        String   @id @default(uuid())\\n  eventId   String\\n  event     Event    @relation(fields: [eventId], references: [id], onDelete: Cascade)\\n  userId    String\\n  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)\\n  createdAt DateTime @default(now())\\n\\n  @@unique([eventId, userId])\\n  @@index([eventId])\\n  @@index([userId])\\n  @@map(\\\"event_registrations\\\")\\n}\\n\\nmodel SavedEvent {\\n  id        String   @id @default(uuid())\\n  eventId   String\\n  event     Event    @relation(fields: [eventId], references: [id], onDelete: Cascade)\\n  userId    String\\n  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)\\n  createdAt DateTime @default(now())\\n\\n  @@unique([eventId, userId])\\n  @@index([eventId])\\n  @@index([userId])\\n  @@map(\\\"saved_events\\\")\\n}\\n\",\n  \"runtimeDataModel\": {\n    \"models\": {},\n    \"enums\": {},\n    \"types\": {}\n  }\n}\n\nconfig.runtimeDataModel = JSON.parse(\"{\\\"models\\\":{\\\"User\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"name\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"email\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"password\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"role\\\",\\\"kind\\\":\\\"enum\\\",\\\"type\\\":\\\"UserRole\\\"},{\\\"name\\\":\\\"approvedAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"DateTime\\\"},{\\\"name\\\":\\\"approvedBy\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"createdAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"DateTime\\\"},{\\\"name\\\":\\\"updatedAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"DateTime\\\"},{\\\"name\\\":\\\"approvedPromoters\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"User\\\",\\\"relationName\\\":\\\"PromoterApprovals\\\"},{\\\"name\\\":\\\"approver\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"User\\\",\\\"relationName\\\":\\\"PromoterApprovals\\\"},{\\\"name\\\":\\\"createdEvents\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Event\\\",\\\"relationName\\\":\\\"EventToUser\\\"},{\\\"name\\\":\\\"eventRegistrations\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"EventRegistration\\\",\\\"relationName\\\":\\\"EventRegistrationToUser\\\"},{\\\"name\\\":\\\"savedEvents\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"SavedEvent\\\",\\\"relationName\\\":\\\"SavedEventToUser\\\"}],\\\"dbName\\\":\\\"users\\\"},\\\"Event\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"title\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"description\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"location\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"startDate\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"DateTime\\\"},{\\\"name\\\":\\\"endDate\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"DateTime\\\"},{\\\"name\\\":\\\"imageUrl\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"requiresRegistration\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"Boolean\\\"},{\\\"name\\\":\\\"status\\\",\\\"kind\\\":\\\"enum\\\",\\\"type\\\":\\\"EventStatus\\\"},{\\\"name\\\":\\\"promoterId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"promoter\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"User\\\",\\\"relationName\\\":\\\"EventToUser\\\"},{\\\"name\\\":\\\"approvedBy\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"approvedAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"DateTime\\\"},{\\\"name\\\":\\\"rejectionReason\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"createdAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"DateTime\\\"},{\\\"name\\\":\\\"updatedAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"DateTime\\\"},{\\\"name\\\":\\\"registrations\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"EventRegistration\\\",\\\"relationName\\\":\\\"EventToEventRegistration\\\"},{\\\"name\\\":\\\"savedByUsers\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"SavedEvent\\\",\\\"relationName\\\":\\\"EventToSavedEvent\\\"}],\\\"dbName\\\":\\\"events\\\"},\\\"EventRegistration\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"eventId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"event\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Event\\\",\\\"relationName\\\":\\\"EventToEventRegistration\\\"},{\\\"name\\\":\\\"userId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"user\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"User\\\",\\\"relationName\\\":\\\"EventRegistrationToUser\\\"},{\\\"name\\\":\\\"createdAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"DateTime\\\"}],\\\"dbName\\\":\\\"event_registrations\\\"},\\\"SavedEvent\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"eventId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"event\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Event\\\",\\\"relationName\\\":\\\"EventToSavedEvent\\\"},{\\\"name\\\":\\\"userId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"user\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"User\\\",\\\"relationName\\\":\\\"SavedEventToUser\\\"},{\\\"name\\\":\\\"createdAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"DateTime\\\"}],\\\"dbName\\\":\\\"saved_events\\\"}},\\\"enums\\\":{},\\\"types\\\":{}}\")\n\nasync function decodeBase64AsWasm(wasmBase64: string): Promise<WebAssembly.Module> {\n  const { Buffer } = await import('node:buffer')\n  const wasmArray = Buffer.from(wasmBase64, 'base64')\n  return new WebAssembly.Module(wasmArray)\n}\n\nconfig.compilerWasm = {\n  getRuntime: async () => await import(\"@prisma/client/runtime/query_compiler_bg.postgresql.mjs\"),\n\n  getQueryCompilerWasmModule: async () => {\n    const { wasm } = await import(\"@prisma/client/runtime/query_compiler_bg.postgresql.wasm-base64.mjs\")\n    return await decodeBase64AsWasm(wasm)\n  }\n}\n\n\n\nexport type LogOptions<ClientOptions extends Prisma.PrismaClientOptions> =\n  'log' extends keyof ClientOptions ? ClientOptions['log'] extends Array<Prisma.LogLevel | Prisma.LogDefinition> ? Prisma.GetEvents<ClientOptions['log']> : never : never\n\nexport interface PrismaClientConstructor {\n    /**\n   * ## Prisma Client\n   * \n   * Type-safe database client for TypeScript\n   * @example\n   * ```\n   * const prisma = new PrismaClient()\n   * // Fetch zero or more Users\n   * const users = await prisma.user.findMany()\n   * ```\n   * \n   * Read more in our [docs](https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-client).\n   */\n\n  new <\n    Options extends Prisma.PrismaClientOptions = Prisma.PrismaClientOptions,\n    LogOpts extends LogOptions<Options> = LogOptions<Options>,\n    OmitOpts extends Prisma.PrismaClientOptions['omit'] = Options extends { omit: infer U } ? U : Prisma.PrismaClientOptions['omit'],\n    ExtArgs extends runtime.Types.Extensions.InternalArgs = runtime.Types.Extensions.DefaultArgs\n  >(options: Prisma.Subset<Options, Prisma.PrismaClientOptions> ): PrismaClient<LogOpts, OmitOpts, ExtArgs>\n}\n\n/**\n * ## Prisma Client\n * \n * Type-safe database client for TypeScript\n * @example\n * ```\n * const prisma = new PrismaClient()\n * // Fetch zero or more Users\n * const users = await prisma.user.findMany()\n * ```\n * \n * Read more in our [docs](https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-client).\n */\n\nexport interface PrismaClient<\n  in LogOpts extends Prisma.LogLevel = never,\n  in out OmitOpts extends Prisma.PrismaClientOptions['omit'] = undefined,\n  in out ExtArgs extends runtime.Types.Extensions.InternalArgs = runtime.Types.Extensions.DefaultArgs\n> {\n  [K: symbol]: { types: Prisma.TypeMap<ExtArgs>['other'] }\n\n  $on<V extends LogOpts>(eventType: V, callback: (event: V extends 'query' ? Prisma.QueryEvent : Prisma.LogEvent) => void): PrismaClient;\n\n  /**\n   * Connect with the database\n   */\n  $connect(): runtime.Types.Utils.JsPromise<void>;\n\n  /**\n   * Disconnect from the database\n   */\n  $disconnect(): runtime.Types.Utils.JsPromise<void>;\n\n/**\n   * Executes a prepared raw query and returns the number of affected rows.\n   * @example\n   * ```\n   * const result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n   * ```\n   *\n   * Read more in our [docs](https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-client/raw-database-access).\n   */\n  $executeRaw<T = unknown>(query: TemplateStringsArray | Prisma.Sql, ...values: any[]): Prisma.PrismaPromise<number>;\n\n  /**\n   * Executes a raw query and returns the number of affected rows.\n   * Susceptible to SQL injections, see documentation.\n   * @example\n   * ```\n   * const result = await prisma.$executeRawUnsafe('UPDATE User SET cool = $1 WHERE email = $2 ;', true, 'user@email.com')\n   * ```\n   *\n   * Read more in our [docs](https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-client/raw-database-access).\n   */\n  $executeRawUnsafe<T = unknown>(query: string, ...values: any[]): Prisma.PrismaPromise<number>;\n\n  /**\n   * Performs a prepared raw query and returns the `SELECT` data.\n   * @example\n   * ```\n   * const result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n   * ```\n   *\n   * Read more in our [docs](https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-client/raw-database-access).\n   */\n  $queryRaw<T = unknown>(query: TemplateStringsArray | Prisma.Sql, ...values: any[]): Prisma.PrismaPromise<T>;\n\n  /**\n   * Performs a raw query and returns the `SELECT` data.\n   * Susceptible to SQL injections, see documentation.\n   * @example\n   * ```\n   * const result = await prisma.$queryRawUnsafe('SELECT * FROM User WHERE id = $1 OR email = $2;', 1, 'user@email.com')\n   * ```\n   *\n   * Read more in our [docs](https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-client/raw-database-access).\n   */\n  $queryRawUnsafe<T = unknown>(query: string, ...values: any[]): Prisma.PrismaPromise<T>;\n\n\n  /**\n   * Allows the running of a sequence of read/write operations that are guaranteed to either succeed or fail as a whole.\n   * @example\n   * ```\n   * const [george, bob, alice] = await prisma.$transaction([\n   *   prisma.user.create({ data: { name: 'George' } }),\n   *   prisma.user.create({ data: { name: 'Bob' } }),\n   *   prisma.user.create({ data: { name: 'Alice' } }),\n   * ])\n   * ```\n   * \n   * Read more in our [docs](https://www.prisma.io/docs/concepts/components/prisma-client/transactions).\n   */\n  $transaction<P extends Prisma.PrismaPromise<any>[]>(arg: [...P], options?: { isolationLevel?: Prisma.TransactionIsolationLevel }): runtime.Types.Utils.JsPromise<runtime.Types.Utils.UnwrapTuple<P>>\n\n  $transaction<R>(fn: (prisma: Omit<PrismaClient, runtime.ITXClientDenyList>) => runtime.Types.Utils.JsPromise<R>, options?: { maxWait?: number, timeout?: number, isolationLevel?: Prisma.TransactionIsolationLevel }): runtime.Types.Utils.JsPromise<R>\n\n  $extends: runtime.Types.Extensions.ExtendsHook<\"extends\", Prisma.TypeMapCb<OmitOpts>, ExtArgs, runtime.Types.Utils.Call<Prisma.TypeMapCb<OmitOpts>, {\n    extArgs: ExtArgs\n  }>>\n\n      /**\n   * `prisma.user`: Exposes CRUD operations for the **User** model.\n    * Example usage:\n    * ```ts\n    * // Fetch zero or more Users\n    * const users = await prisma.user.findMany()\n    * ```\n    */\n  get user(): Prisma.UserDelegate<ExtArgs, { omit: OmitOpts }>;\n\n  /**\n   * `prisma.event`: Exposes CRUD operations for the **Event** model.\n    * Example usage:\n    * ```ts\n    * // Fetch zero or more Events\n    * const events = await prisma.event.findMany()\n    * ```\n    */\n  get event(): Prisma.EventDelegate<ExtArgs, { omit: OmitOpts }>;\n\n  /**\n   * `prisma.eventRegistration`: Exposes CRUD operations for the **EventRegistration** model.\n    * Example usage:\n    * ```ts\n    * // Fetch zero or more EventRegistrations\n    * const eventRegistrations = await prisma.eventRegistration.findMany()\n    * ```\n    */\n  get eventRegistration(): Prisma.EventRegistrationDelegate<ExtArgs, { omit: OmitOpts }>;\n\n  /**\n   * `prisma.savedEvent`: Exposes CRUD operations for the **SavedEvent** model.\n    * Example usage:\n    * ```ts\n    * // Fetch zero or more SavedEvents\n    * const savedEvents = await prisma.savedEvent.findMany()\n    * ```\n    */\n  get savedEvent(): Prisma.SavedEventDelegate<ExtArgs, { omit: OmitOpts }>;\n}\n\nexport function getPrismaClientClass(): PrismaClientConstructor {\n  return runtime.getPrismaClient(config) as unknown as PrismaClientConstructor\n}\n","\n/* !!! This is code generated by Prisma. Do not edit directly. !!! */\n/* eslint-disable */\n// biome-ignore-all lint: generated file\n// @ts-nocheck \n/*\n * WARNING: This is an internal file that is subject to change!\n *\n *  Under no circumstances should you import this file directly! \n *\n * All exports from this file are wrapped under a `Prisma` namespace object in the client.ts file.\n * While this enables partial backward compatibility, it is not part of the stable public API.\n *\n * If you are looking for your Models, Enums, and Input Types, please import them from the respective\n * model files in the `model` directory!\n */\n\nimport * as runtime from \"@prisma/client/runtime/client\"\nimport type * as Prisma from \"../models.js\"\nimport { type PrismaClient } from \"./class.js\"\n\nexport type * from '../models.js'\n\nexport type DMMF = typeof runtime.DMMF\n\nexport type PrismaPromise<T> = runtime.Types.Public.PrismaPromise<T>\n\n/**\n * Prisma Errors\n */\n\nexport const PrismaClientKnownRequestError = runtime.PrismaClientKnownRequestError\nexport type PrismaClientKnownRequestError = runtime.PrismaClientKnownRequestError\n\nexport const PrismaClientUnknownRequestError = runtime.PrismaClientUnknownRequestError\nexport type PrismaClientUnknownRequestError = runtime.PrismaClientUnknownRequestError\n\nexport const PrismaClientRustPanicError = runtime.PrismaClientRustPanicError\nexport type PrismaClientRustPanicError = runtime.PrismaClientRustPanicError\n\nexport const PrismaClientInitializationError = runtime.PrismaClientInitializationError\nexport type PrismaClientInitializationError = runtime.PrismaClientInitializationError\n\nexport const PrismaClientValidationError = runtime.PrismaClientValidationError\nexport type PrismaClientValidationError = runtime.PrismaClientValidationError\n\n/**\n * Re-export of sql-template-tag\n */\nexport const sql = runtime.sqltag\nexport const empty = runtime.empty\nexport const join = runtime.join\nexport const raw = runtime.raw\nexport const Sql = runtime.Sql\nexport type Sql = runtime.Sql\n\n\n\n/**\n * Decimal.js\n */\nexport const Decimal = runtime.Decimal\nexport type Decimal = runtime.Decimal\n\nexport type DecimalJsLike = runtime.DecimalJsLike\n\n/**\n* Extensions\n*/\nexport type Extension = runtime.Types.Extensions.UserArgs\nexport const getExtensionContext = runtime.Extensions.getExtensionContext\nexport type Args<T, F extends runtime.Operation> = runtime.Types.Public.Args<T, F>\nexport type Payload<T, F extends runtime.Operation = never> = runtime.Types.Public.Payload<T, F>\nexport type Result<T, A, F extends runtime.Operation> = runtime.Types.Public.Result<T, A, F>\nexport type Exact<A, W> = runtime.Types.Public.Exact<A, W>\n\nexport type PrismaVersion = {\n  client: string\n  engine: string\n}\n\n/**\n * Prisma Client JS version: 7.0.1\n * Query Engine version: f09f2815f091dbba658cdcd2264306d88bb5bda6\n */\nexport const prismaVersion: PrismaVersion = {\n  client: \"7.0.1\",\n  engine: \"f09f2815f091dbba658cdcd2264306d88bb5bda6\"\n}\n\n/**\n * Utility Types\n */\n\nexport type Bytes = runtime.Bytes\nexport type JsonObject = runtime.JsonObject\nexport type JsonArray = runtime.JsonArray\nexport type JsonValue = runtime.JsonValue\nexport type InputJsonObject = runtime.InputJsonObject\nexport type InputJsonArray = runtime.InputJsonArray\nexport type InputJsonValue = runtime.InputJsonValue\n\n\nexport const NullTypes = {\n  DbNull: runtime.NullTypes.DbNull as (new (secret: never) => typeof runtime.DbNull),\n  JsonNull: runtime.NullTypes.JsonNull as (new (secret: never) => typeof runtime.JsonNull),\n  AnyNull: runtime.NullTypes.AnyNull as (new (secret: never) => typeof runtime.AnyNull),\n}\n/**\n * Helper for filtering JSON entries that have `null` on the database (empty on the db)\n *\n * @see https://www.prisma.io/docs/concepts/components/prisma-client/working-with-fields/working-with-json-fields#filtering-on-a-json-field\n */\nexport const DbNull = runtime.DbNull\n\n/**\n * Helper for filtering JSON entries that have JSON `null` values (not empty on the db)\n *\n * @see https://www.prisma.io/docs/concepts/components/prisma-client/working-with-fields/working-with-json-fields#filtering-on-a-json-field\n */\nexport const JsonNull = runtime.JsonNull\n\n/**\n * Helper for filtering JSON entries that are `Prisma.DbNull` or `Prisma.JsonNull`\n *\n * @see https://www.prisma.io/docs/concepts/components/prisma-client/working-with-fields/working-with-json-fields#filtering-on-a-json-field\n */\nexport const AnyNull = runtime.AnyNull\n\n\ntype SelectAndInclude = {\n  select: any\n  include: any\n}\n\ntype SelectAndOmit = {\n  select: any\n  omit: any\n}\n\n/**\n * From T, pick a set of properties whose keys are in the union K\n */\ntype Prisma__Pick<T, K extends keyof T> = {\n    [P in K]: T[P];\n};\n\nexport type Enumerable<T> = T | Array<T>;\n\n/**\n * Subset\n * @desc From `T` pick properties that exist in `U`. Simple version of Intersection\n */\nexport type Subset<T, U> = {\n  [key in keyof T]: key extends keyof U ? T[key] : never;\n};\n\n/**\n * SelectSubset\n * @desc From `T` pick properties that exist in `U`. Simple version of Intersection.\n * Additionally, it validates, if both select and include are present. If the case, it errors.\n */\nexport type SelectSubset<T, U> = {\n  [key in keyof T]: key extends keyof U ? T[key] : never\n} &\n  (T extends SelectAndInclude\n    ? 'Please either choose `select` or `include`.'\n    : T extends SelectAndOmit\n      ? 'Please either choose `select` or `omit`.'\n      : {})\n\n/**\n * Subset + Intersection\n * @desc From `T` pick properties that exist in `U` and intersect `K`\n */\nexport type SubsetIntersection<T, U, K> = {\n  [key in keyof T]: key extends keyof U ? T[key] : never\n} &\n  K\n\ntype Without<T, U> = { [P in Exclude<keyof T, keyof U>]?: never };\n\n/**\n * XOR is needed to have a real mutually exclusive union type\n * https://stackoverflow.com/questions/42123407/does-typescript-support-mutually-exclusive-types\n */\nexport type XOR<T, U> =\n  T extends object ?\n  U extends object ?\n    (Without<T, U> & U) | (Without<U, T> & T)\n  : U : T\n\n\n/**\n * Is T a Record?\n */\ntype IsObject<T extends any> = T extends Array<any>\n? False\n: T extends Date\n? False\n: T extends Uint8Array\n? False\n: T extends BigInt\n? False\n: T extends object\n? True\n: False\n\n\n/**\n * If it's T[], return T\n */\nexport type UnEnumerate<T extends unknown> = T extends Array<infer U> ? U : T\n\n/**\n * From ts-toolbelt\n */\n\ntype __Either<O extends object, K extends Key> = Omit<O, K> &\n  {\n    // Merge all but K\n    [P in K]: Prisma__Pick<O, P & keyof O> // With K possibilities\n  }[K]\n\ntype EitherStrict<O extends object, K extends Key> = Strict<__Either<O, K>>\n\ntype EitherLoose<O extends object, K extends Key> = ComputeRaw<__Either<O, K>>\n\ntype _Either<\n  O extends object,\n  K extends Key,\n  strict extends Boolean\n> = {\n  1: EitherStrict<O, K>\n  0: EitherLoose<O, K>\n}[strict]\n\nexport type Either<\n  O extends object,\n  K extends Key,\n  strict extends Boolean = 1\n> = O extends unknown ? _Either<O, K, strict> : never\n\nexport type Union = any\n\nexport type PatchUndefined<O extends object, O1 extends object> = {\n  [K in keyof O]: O[K] extends undefined ? At<O1, K> : O[K]\n} & {}\n\n/** Helper Types for \"Merge\" **/\nexport type IntersectOf<U extends Union> = (\n  U extends unknown ? (k: U) => void : never\n) extends (k: infer I) => void\n  ? I\n  : never\n\nexport type Overwrite<O extends object, O1 extends object> = {\n    [K in keyof O]: K extends keyof O1 ? O1[K] : O[K];\n} & {};\n\ntype _Merge<U extends object> = IntersectOf<Overwrite<U, {\n    [K in keyof U]-?: At<U, K>;\n}>>;\n\ntype Key = string | number | symbol;\ntype AtStrict<O extends object, K extends Key> = O[K & keyof O];\ntype AtLoose<O extends object, K extends Key> = O extends unknown ? AtStrict<O, K> : never;\nexport type At<O extends object, K extends Key, strict extends Boolean = 1> = {\n    1: AtStrict<O, K>;\n    0: AtLoose<O, K>;\n}[strict];\n\nexport type ComputeRaw<A extends any> = A extends Function ? A : {\n  [K in keyof A]: A[K];\n} & {};\n\nexport type OptionalFlat<O> = {\n  [K in keyof O]?: O[K];\n} & {};\n\ntype _Record<K extends keyof any, T> = {\n  [P in K]: T;\n};\n\n// cause typescript not to expand types and preserve names\ntype NoExpand<T> = T extends unknown ? T : never;\n\n// this type assumes the passed object is entirely optional\nexport type AtLeast<O extends object, K extends string> = NoExpand<\n  O extends unknown\n  ? | (K extends keyof O ? { [P in K]: O[P] } & O : O)\n    | {[P in keyof O as P extends K ? P : never]-?: O[P]} & O\n  : never>;\n\ntype _Strict<U, _U = U> = U extends unknown ? U & OptionalFlat<_Record<Exclude<Keys<_U>, keyof U>, never>> : never;\n\nexport type Strict<U extends object> = ComputeRaw<_Strict<U>>;\n/** End Helper Types for \"Merge\" **/\n\nexport type Merge<U extends object> = ComputeRaw<_Merge<Strict<U>>>;\n\nexport type Boolean = True | False\n\nexport type True = 1\n\nexport type False = 0\n\nexport type Not<B extends Boolean> = {\n  0: 1\n  1: 0\n}[B]\n\nexport type Extends<A1 extends any, A2 extends any> = [A1] extends [never]\n  ? 0 // anything `never` is false\n  : A1 extends A2\n  ? 1\n  : 0\n\nexport type Has<U extends Union, U1 extends Union> = Not<\n  Extends<Exclude<U1, U>, U1>\n>\n\nexport type Or<B1 extends Boolean, B2 extends Boolean> = {\n  0: {\n    0: 0\n    1: 1\n  }\n  1: {\n    0: 1\n    1: 1\n  }\n}[B1][B2]\n\nexport type Keys<U extends Union> = U extends unknown ? keyof U : never\n\nexport type GetScalarType<T, O> = O extends object ? {\n  [P in keyof T]: P extends keyof O\n    ? O[P]\n    : never\n} : never\n\ntype FieldPaths<\n  T,\n  U = Omit<T, '_avg' | '_sum' | '_count' | '_min' | '_max'>\n> = IsObject<T> extends True ? U : T\n\nexport type GetHavingFields<T> = {\n  [K in keyof T]: Or<\n    Or<Extends<'OR', K>, Extends<'AND', K>>,\n    Extends<'NOT', K>\n  > extends True\n    ? // infer is only needed to not hit TS limit\n      // based on the brilliant idea of Pierre-Antoine Mills\n      // https://github.com/microsoft/TypeScript/issues/30188#issuecomment-478938437\n      T[K] extends infer TK\n      ? GetHavingFields<UnEnumerate<TK> extends object ? Merge<UnEnumerate<TK>> : never>\n      : never\n    : {} extends FieldPaths<T[K]>\n    ? never\n    : K\n}[keyof T]\n\n/**\n * Convert tuple to union\n */\ntype _TupleToUnion<T> = T extends (infer E)[] ? E : never\ntype TupleToUnion<K extends readonly any[]> = _TupleToUnion<K>\nexport type MaybeTupleToUnion<T> = T extends any[] ? TupleToUnion<T> : T\n\n/**\n * Like `Pick`, but additionally can also accept an array of keys\n */\nexport type PickEnumerable<T, K extends Enumerable<keyof T> | keyof T> = Prisma__Pick<T, MaybeTupleToUnion<K>>\n\n/**\n * Exclude all keys with underscores\n */\nexport type ExcludeUnderscoreKeys<T extends string> = T extends `_${string}` ? never : T\n\n\nexport type FieldRef<Model, FieldType> = runtime.FieldRef<Model, FieldType>\n\ntype FieldRefInputType<Model, FieldType> = Model extends never ? never : FieldRef<Model, FieldType>\n\n\nexport const ModelName = {\n  User: 'User',\n  Event: 'Event',\n  EventRegistration: 'EventRegistration',\n  SavedEvent: 'SavedEvent'\n} as const\n\nexport type ModelName = (typeof ModelName)[keyof typeof ModelName]\n\n\n\nexport interface TypeMapCb<GlobalOmitOptions = {}> extends runtime.Types.Utils.Fn<{extArgs: runtime.Types.Extensions.InternalArgs }, runtime.Types.Utils.Record<string, any>> {\n  returns: TypeMap<this['params']['extArgs'], GlobalOmitOptions>\n}\n\nexport type TypeMap<ExtArgs extends runtime.Types.Extensions.InternalArgs = runtime.Types.Extensions.DefaultArgs, GlobalOmitOptions = {}> = {\n  globalOmitOptions: {\n    omit: GlobalOmitOptions\n  }\n  meta: {\n    modelProps: \"user\" | \"event\" | \"eventRegistration\" | \"savedEvent\"\n    txIsolationLevel: TransactionIsolationLevel\n  }\n  model: {\n    User: {\n      payload: Prisma.$UserPayload<ExtArgs>\n      fields: Prisma.UserFieldRefs\n      operations: {\n        findUnique: {\n          args: Prisma.UserFindUniqueArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$UserPayload> | null\n        }\n        findUniqueOrThrow: {\n          args: Prisma.UserFindUniqueOrThrowArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$UserPayload>\n        }\n        findFirst: {\n          args: Prisma.UserFindFirstArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$UserPayload> | null\n        }\n        findFirstOrThrow: {\n          args: Prisma.UserFindFirstOrThrowArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$UserPayload>\n        }\n        findMany: {\n          args: Prisma.UserFindManyArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$UserPayload>[]\n        }\n        create: {\n          args: Prisma.UserCreateArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$UserPayload>\n        }\n        createMany: {\n          args: Prisma.UserCreateManyArgs<ExtArgs>\n          result: BatchPayload\n        }\n        createManyAndReturn: {\n          args: Prisma.UserCreateManyAndReturnArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$UserPayload>[]\n        }\n        delete: {\n          args: Prisma.UserDeleteArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$UserPayload>\n        }\n        update: {\n          args: Prisma.UserUpdateArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$UserPayload>\n        }\n        deleteMany: {\n          args: Prisma.UserDeleteManyArgs<ExtArgs>\n          result: BatchPayload\n        }\n        updateMany: {\n          args: Prisma.UserUpdateManyArgs<ExtArgs>\n          result: BatchPayload\n        }\n        updateManyAndReturn: {\n          args: Prisma.UserUpdateManyAndReturnArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$UserPayload>[]\n        }\n        upsert: {\n          args: Prisma.UserUpsertArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$UserPayload>\n        }\n        aggregate: {\n          args: Prisma.UserAggregateArgs<ExtArgs>\n          result: runtime.Types.Utils.Optional<Prisma.AggregateUser>\n        }\n        groupBy: {\n          args: Prisma.UserGroupByArgs<ExtArgs>\n          result: runtime.Types.Utils.Optional<Prisma.UserGroupByOutputType>[]\n        }\n        count: {\n          args: Prisma.UserCountArgs<ExtArgs>\n          result: runtime.Types.Utils.Optional<Prisma.UserCountAggregateOutputType> | number\n        }\n      }\n    }\n    Event: {\n      payload: Prisma.$EventPayload<ExtArgs>\n      fields: Prisma.EventFieldRefs\n      operations: {\n        findUnique: {\n          args: Prisma.EventFindUniqueArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$EventPayload> | null\n        }\n        findUniqueOrThrow: {\n          args: Prisma.EventFindUniqueOrThrowArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$EventPayload>\n        }\n        findFirst: {\n          args: Prisma.EventFindFirstArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$EventPayload> | null\n        }\n        findFirstOrThrow: {\n          args: Prisma.EventFindFirstOrThrowArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$EventPayload>\n        }\n        findMany: {\n          args: Prisma.EventFindManyArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$EventPayload>[]\n        }\n        create: {\n          args: Prisma.EventCreateArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$EventPayload>\n        }\n        createMany: {\n          args: Prisma.EventCreateManyArgs<ExtArgs>\n          result: BatchPayload\n        }\n        createManyAndReturn: {\n          args: Prisma.EventCreateManyAndReturnArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$EventPayload>[]\n        }\n        delete: {\n          args: Prisma.EventDeleteArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$EventPayload>\n        }\n        update: {\n          args: Prisma.EventUpdateArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$EventPayload>\n        }\n        deleteMany: {\n          args: Prisma.EventDeleteManyArgs<ExtArgs>\n          result: BatchPayload\n        }\n        updateMany: {\n          args: Prisma.EventUpdateManyArgs<ExtArgs>\n          result: BatchPayload\n        }\n        updateManyAndReturn: {\n          args: Prisma.EventUpdateManyAndReturnArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$EventPayload>[]\n        }\n        upsert: {\n          args: Prisma.EventUpsertArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$EventPayload>\n        }\n        aggregate: {\n          args: Prisma.EventAggregateArgs<ExtArgs>\n          result: runtime.Types.Utils.Optional<Prisma.AggregateEvent>\n        }\n        groupBy: {\n          args: Prisma.EventGroupByArgs<ExtArgs>\n          result: runtime.Types.Utils.Optional<Prisma.EventGroupByOutputType>[]\n        }\n        count: {\n          args: Prisma.EventCountArgs<ExtArgs>\n          result: runtime.Types.Utils.Optional<Prisma.EventCountAggregateOutputType> | number\n        }\n      }\n    }\n    EventRegistration: {\n      payload: Prisma.$EventRegistrationPayload<ExtArgs>\n      fields: Prisma.EventRegistrationFieldRefs\n      operations: {\n        findUnique: {\n          args: Prisma.EventRegistrationFindUniqueArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$EventRegistrationPayload> | null\n        }\n        findUniqueOrThrow: {\n          args: Prisma.EventRegistrationFindUniqueOrThrowArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$EventRegistrationPayload>\n        }\n        findFirst: {\n          args: Prisma.EventRegistrationFindFirstArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$EventRegistrationPayload> | null\n        }\n        findFirstOrThrow: {\n          args: Prisma.EventRegistrationFindFirstOrThrowArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$EventRegistrationPayload>\n        }\n        findMany: {\n          args: Prisma.EventRegistrationFindManyArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$EventRegistrationPayload>[]\n        }\n        create: {\n          args: Prisma.EventRegistrationCreateArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$EventRegistrationPayload>\n        }\n        createMany: {\n          args: Prisma.EventRegistrationCreateManyArgs<ExtArgs>\n          result: BatchPayload\n        }\n        createManyAndReturn: {\n          args: Prisma.EventRegistrationCreateManyAndReturnArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$EventRegistrationPayload>[]\n        }\n        delete: {\n          args: Prisma.EventRegistrationDeleteArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$EventRegistrationPayload>\n        }\n        update: {\n          args: Prisma.EventRegistrationUpdateArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$EventRegistrationPayload>\n        }\n        deleteMany: {\n          args: Prisma.EventRegistrationDeleteManyArgs<ExtArgs>\n          result: BatchPayload\n        }\n        updateMany: {\n          args: Prisma.EventRegistrationUpdateManyArgs<ExtArgs>\n          result: BatchPayload\n        }\n        updateManyAndReturn: {\n          args: Prisma.EventRegistrationUpdateManyAndReturnArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$EventRegistrationPayload>[]\n        }\n        upsert: {\n          args: Prisma.EventRegistrationUpsertArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$EventRegistrationPayload>\n        }\n        aggregate: {\n          args: Prisma.EventRegistrationAggregateArgs<ExtArgs>\n          result: runtime.Types.Utils.Optional<Prisma.AggregateEventRegistration>\n        }\n        groupBy: {\n          args: Prisma.EventRegistrationGroupByArgs<ExtArgs>\n          result: runtime.Types.Utils.Optional<Prisma.EventRegistrationGroupByOutputType>[]\n        }\n        count: {\n          args: Prisma.EventRegistrationCountArgs<ExtArgs>\n          result: runtime.Types.Utils.Optional<Prisma.EventRegistrationCountAggregateOutputType> | number\n        }\n      }\n    }\n    SavedEvent: {\n      payload: Prisma.$SavedEventPayload<ExtArgs>\n      fields: Prisma.SavedEventFieldRefs\n      operations: {\n        findUnique: {\n          args: Prisma.SavedEventFindUniqueArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$SavedEventPayload> | null\n        }\n        findUniqueOrThrow: {\n          args: Prisma.SavedEventFindUniqueOrThrowArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$SavedEventPayload>\n        }\n        findFirst: {\n          args: Prisma.SavedEventFindFirstArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$SavedEventPayload> | null\n        }\n        findFirstOrThrow: {\n          args: Prisma.SavedEventFindFirstOrThrowArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$SavedEventPayload>\n        }\n        findMany: {\n          args: Prisma.SavedEventFindManyArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$SavedEventPayload>[]\n        }\n        create: {\n          args: Prisma.SavedEventCreateArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$SavedEventPayload>\n        }\n        createMany: {\n          args: Prisma.SavedEventCreateManyArgs<ExtArgs>\n          result: BatchPayload\n        }\n        createManyAndReturn: {\n          args: Prisma.SavedEventCreateManyAndReturnArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$SavedEventPayload>[]\n        }\n        delete: {\n          args: Prisma.SavedEventDeleteArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$SavedEventPayload>\n        }\n        update: {\n          args: Prisma.SavedEventUpdateArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$SavedEventPayload>\n        }\n        deleteMany: {\n          args: Prisma.SavedEventDeleteManyArgs<ExtArgs>\n          result: BatchPayload\n        }\n        updateMany: {\n          args: Prisma.SavedEventUpdateManyArgs<ExtArgs>\n          result: BatchPayload\n        }\n        updateManyAndReturn: {\n          args: Prisma.SavedEventUpdateManyAndReturnArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$SavedEventPayload>[]\n        }\n        upsert: {\n          args: Prisma.SavedEventUpsertArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$SavedEventPayload>\n        }\n        aggregate: {\n          args: Prisma.SavedEventAggregateArgs<ExtArgs>\n          result: runtime.Types.Utils.Optional<Prisma.AggregateSavedEvent>\n        }\n        groupBy: {\n          args: Prisma.SavedEventGroupByArgs<ExtArgs>\n          result: runtime.Types.Utils.Optional<Prisma.SavedEventGroupByOutputType>[]\n        }\n        count: {\n          args: Prisma.SavedEventCountArgs<ExtArgs>\n          result: runtime.Types.Utils.Optional<Prisma.SavedEventCountAggregateOutputType> | number\n        }\n      }\n    }\n  }\n} & {\n  other: {\n    payload: any\n    operations: {\n      $executeRaw: {\n        args: [query: TemplateStringsArray | Sql, ...values: any[]],\n        result: any\n      }\n      $executeRawUnsafe: {\n        args: [query: string, ...values: any[]],\n        result: any\n      }\n      $queryRaw: {\n        args: [query: TemplateStringsArray | Sql, ...values: any[]],\n        result: any\n      }\n      $queryRawUnsafe: {\n        args: [query: string, ...values: any[]],\n        result: any\n      }\n    }\n  }\n}\n\n/**\n * Enums\n */\n\nexport const TransactionIsolationLevel = runtime.makeStrictEnum({\n  ReadUncommitted: 'ReadUncommitted',\n  ReadCommitted: 'ReadCommitted',\n  RepeatableRead: 'RepeatableRead',\n  Serializable: 'Serializable'\n} as const)\n\nexport type TransactionIsolationLevel = (typeof TransactionIsolationLevel)[keyof typeof TransactionIsolationLevel]\n\n\nexport const UserScalarFieldEnum = {\n  id: 'id',\n  name: 'name',\n  email: 'email',\n  password: 'password',\n  role: 'role',\n  approvedAt: 'approvedAt',\n  approvedBy: 'approvedBy',\n  createdAt: 'createdAt',\n  updatedAt: 'updatedAt'\n} as const\n\nexport type UserScalarFieldEnum = (typeof UserScalarFieldEnum)[keyof typeof UserScalarFieldEnum]\n\n\nexport const EventScalarFieldEnum = {\n  id: 'id',\n  title: 'title',\n  description: 'description',\n  location: 'location',\n  startDate: 'startDate',\n  endDate: 'endDate',\n  imageUrl: 'imageUrl',\n  requiresRegistration: 'requiresRegistration',\n  status: 'status',\n  promoterId: 'promoterId',\n  approvedBy: 'approvedBy',\n  approvedAt: 'approvedAt',\n  rejectionReason: 'rejectionReason',\n  createdAt: 'createdAt',\n  updatedAt: 'updatedAt'\n} as const\n\nexport type EventScalarFieldEnum = (typeof EventScalarFieldEnum)[keyof typeof EventScalarFieldEnum]\n\n\nexport const EventRegistrationScalarFieldEnum = {\n  id: 'id',\n  eventId: 'eventId',\n  userId: 'userId',\n  createdAt: 'createdAt'\n} as const\n\nexport type EventRegistrationScalarFieldEnum = (typeof EventRegistrationScalarFieldEnum)[keyof typeof EventRegistrationScalarFieldEnum]\n\n\nexport const SavedEventScalarFieldEnum = {\n  id: 'id',\n  eventId: 'eventId',\n  userId: 'userId',\n  createdAt: 'createdAt'\n} as const\n\nexport type SavedEventScalarFieldEnum = (typeof SavedEventScalarFieldEnum)[keyof typeof SavedEventScalarFieldEnum]\n\n\nexport const SortOrder = {\n  asc: 'asc',\n  desc: 'desc'\n} as const\n\nexport type SortOrder = (typeof SortOrder)[keyof typeof SortOrder]\n\n\nexport const QueryMode = {\n  default: 'default',\n  insensitive: 'insensitive'\n} as const\n\nexport type QueryMode = (typeof QueryMode)[keyof typeof QueryMode]\n\n\nexport const NullsOrder = {\n  first: 'first',\n  last: 'last'\n} as const\n\nexport type NullsOrder = (typeof NullsOrder)[keyof typeof NullsOrder]\n\n\n\n/**\n * Field references\n */\n\n\n/**\n * Reference to a field of type 'String'\n */\nexport type StringFieldRefInput<$PrismaModel> = FieldRefInputType<$PrismaModel, 'String'>\n    \n\n\n/**\n * Reference to a field of type 'String[]'\n */\nexport type ListStringFieldRefInput<$PrismaModel> = FieldRefInputType<$PrismaModel, 'String[]'>\n    \n\n\n/**\n * Reference to a field of type 'UserRole'\n */\nexport type EnumUserRoleFieldRefInput<$PrismaModel> = FieldRefInputType<$PrismaModel, 'UserRole'>\n    \n\n\n/**\n * Reference to a field of type 'UserRole[]'\n */\nexport type ListEnumUserRoleFieldRefInput<$PrismaModel> = FieldRefInputType<$PrismaModel, 'UserRole[]'>\n    \n\n\n/**\n * Reference to a field of type 'DateTime'\n */\nexport type DateTimeFieldRefInput<$PrismaModel> = FieldRefInputType<$PrismaModel, 'DateTime'>\n    \n\n\n/**\n * Reference to a field of type 'DateTime[]'\n */\nexport type ListDateTimeFieldRefInput<$PrismaModel> = FieldRefInputType<$PrismaModel, 'DateTime[]'>\n    \n\n\n/**\n * Reference to a field of type 'Boolean'\n */\nexport type BooleanFieldRefInput<$PrismaModel> = FieldRefInputType<$PrismaModel, 'Boolean'>\n    \n\n\n/**\n * Reference to a field of type 'EventStatus'\n */\nexport type EnumEventStatusFieldRefInput<$PrismaModel> = FieldRefInputType<$PrismaModel, 'EventStatus'>\n    \n\n\n/**\n * Reference to a field of type 'EventStatus[]'\n */\nexport type ListEnumEventStatusFieldRefInput<$PrismaModel> = FieldRefInputType<$PrismaModel, 'EventStatus[]'>\n    \n\n\n/**\n * Reference to a field of type 'Int'\n */\nexport type IntFieldRefInput<$PrismaModel> = FieldRefInputType<$PrismaModel, 'Int'>\n    \n\n\n/**\n * Reference to a field of type 'Int[]'\n */\nexport type ListIntFieldRefInput<$PrismaModel> = FieldRefInputType<$PrismaModel, 'Int[]'>\n    \n\n/**\n * Batch Payload for updateMany & deleteMany & createMany\n */\nexport type BatchPayload = {\n  count: number\n}\n\nexport const defineExtension = runtime.Extensions.defineExtension as unknown as runtime.Types.Extensions.ExtendsHook<\"define\", TypeMapCb, runtime.Types.Extensions.DefaultArgs>\nexport type DefaultPrismaClient = PrismaClient\nexport type ErrorFormat = 'pretty' | 'colorless' | 'minimal'\nexport type PrismaClientOptions = ({\n  /**\n   * Instance of a Driver Adapter, e.g., like one provided by `@prisma/adapter-pg`.\n   */\n  adapter: runtime.SqlDriverAdapterFactory\n  accelerateUrl?: never\n} | {\n  /**\n   * Prisma Accelerate URL allowing the client to connect through Accelerate instead of a direct database.\n   */\n  accelerateUrl: string\n  adapter?: never\n}) & {\n  /**\n   * @default \"colorless\"\n   */\n  errorFormat?: ErrorFormat\n  /**\n   * @example\n   * ```\n   * // Shorthand for `emit: 'stdout'`\n   * log: ['query', 'info', 'warn', 'error']\n   * \n   * // Emit as events only\n   * log: [\n   *   { emit: 'event', level: 'query' },\n   *   { emit: 'event', level: 'info' },\n   *   { emit: 'event', level: 'warn' }\n   *   { emit: 'event', level: 'error' }\n   * ]\n   * \n   * / Emit as events and log to stdout\n   * og: [\n   *  { emit: 'stdout', level: 'query' },\n   *  { emit: 'stdout', level: 'info' },\n   *  { emit: 'stdout', level: 'warn' }\n   *  { emit: 'stdout', level: 'error' }\n   * \n   * ```\n   * Read more in our [docs](https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-client/logging#the-log-option).\n   */\n  log?: (LogLevel | LogDefinition)[]\n  /**\n   * The default values for transactionOptions\n   * maxWait ?= 2000\n   * timeout ?= 5000\n   */\n  transactionOptions?: {\n    maxWait?: number\n    timeout?: number\n    isolationLevel?: TransactionIsolationLevel\n  }\n  /**\n   * Global configuration for omitting model fields by default.\n   * \n   * @example\n   * ```\n   * const prisma = new PrismaClient({\n   *   omit: {\n   *     user: {\n   *       password: true\n   *     }\n   *   }\n   * })\n   * ```\n   */\n  omit?: GlobalOmitConfig\n}\nexport type GlobalOmitConfig = {\n  user?: Prisma.UserOmit\n  event?: Prisma.EventOmit\n  eventRegistration?: Prisma.EventRegistrationOmit\n  savedEvent?: Prisma.SavedEventOmit\n}\n\n/* Types for Logging */\nexport type LogLevel = 'info' | 'query' | 'warn' | 'error'\nexport type LogDefinition = {\n  level: LogLevel\n  emit: 'stdout' | 'event'\n}\n\nexport type CheckIsLogLevel<T> = T extends LogLevel ? T : never;\n\nexport type GetLogType<T> = CheckIsLogLevel<\n  T extends LogDefinition ? T['level'] : T\n>;\n\nexport type GetEvents<T extends any[]> = T extends Array<LogLevel | LogDefinition>\n  ? GetLogType<T[number]>\n  : never;\n\nexport type QueryEvent = {\n  timestamp: Date\n  query: string\n  params: string\n  duration: number\n  target: string\n}\n\nexport type LogEvent = {\n  timestamp: Date\n  message: string\n  target: string\n}\n/* End Types for Logging */\n\n\nexport type PrismaAction =\n  | 'findUnique'\n  | 'findUniqueOrThrow'\n  | 'findMany'\n  | 'findFirst'\n  | 'findFirstOrThrow'\n  | 'create'\n  | 'createMany'\n  | 'createManyAndReturn'\n  | 'update'\n  | 'updateMany'\n  | 'updateManyAndReturn'\n  | 'upsert'\n  | 'delete'\n  | 'deleteMany'\n  | 'executeRaw'\n  | 'queryRaw'\n  | 'aggregate'\n  | 'count'\n  | 'runCommandRaw'\n  | 'findRaw'\n  | 'groupBy'\n\n/**\n * `PrismaClient` proxy available in interactive transactions.\n */\nexport type TransactionClient = Omit<DefaultPrismaClient, runtime.ITXClientDenyList>\n\n","\n/* !!! This is code generated by Prisma. Do not edit directly. !!! */\n/* eslint-disable */\n// biome-ignore-all lint: generated file\n// @ts-nocheck \n/*\n* This file exports all enum related types from the schema.\n*\n*  You can import this file directly.\n*/\n\nexport const UserRole = {\n  ADMIN: 'ADMIN',\n  PROMOTER: 'PROMOTER',\n  USER: 'USER'\n} as const\n\nexport type UserRole = (typeof UserRole)[keyof typeof UserRole]\n\n\nexport const EventStatus = {\n  PENDING: 'PENDING',\n  APPROVED: 'APPROVED',\n  REJECTED: 'REJECTED',\n  CANCELLED: 'CANCELLED'\n} as const\n\nexport type EventStatus = (typeof EventStatus)[keyof typeof EventStatus]\n","\n/* !!! This is code generated by Prisma. Do not edit directly. !!! */\n/* eslint-disable */\n// biome-ignore-all lint: generated file\n// @ts-nocheck \n/*\n * This file should be your main import to use Prisma. Through it you get access to all the models, enums, and input types.\n * If you're looking for something you can import in the client-side of your application, please refer to the `browser.ts` file instead.\n *\n *  You can import this file directly.\n */\n\nimport * as process from 'node:process'\nimport * as path from 'node:path'\nimport { fileURLToPath } from 'node:url'\nglobalThis['__dirname'] = path.dirname(fileURLToPath(import.meta.url))\n\nimport * as runtime from \"@prisma/client/runtime/client\"\nimport * as $Enums from \"./enums.js\"\nimport * as $Class from \"./internal/class.js\"\nimport * as Prisma from \"./internal/prismaNamespace.js\"\n\nexport * as $Enums from './enums.js'\nexport * from \"./enums.js\"\n/**\n * ## Prisma Client\n * \n * Type-safe database client for TypeScript\n * @example\n * ```\n * const prisma = new PrismaClient()\n * // Fetch zero or more Users\n * const users = await prisma.user.findMany()\n * ```\n * \n * Read more in our [docs](https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-client).\n */\nexport const PrismaClient = $Class.getPrismaClientClass()\nexport type PrismaClient<LogOpts extends Prisma.LogLevel = never, OmitOpts extends Prisma.PrismaClientOptions[\"omit\"] = Prisma.PrismaClientOptions[\"omit\"], ExtArgs extends runtime.Types.Extensions.InternalArgs = runtime.Types.Extensions.DefaultArgs> = $Class.PrismaClient<LogOpts, OmitOpts, ExtArgs>\nexport { Prisma }\n\n/**\n * Model User\n * \n */\nexport type User = Prisma.UserModel\n/**\n * Model Event\n * \n */\nexport type Event = Prisma.EventModel\n/**\n * Model EventRegistration\n * \n */\nexport type EventRegistration = Prisma.EventRegistrationModel\n/**\n * Model SavedEvent\n * \n */\nexport type SavedEvent = Prisma.SavedEventModel\n","import { PrismaClient } from \"../../prisma/@prisma/client/client\";\nimport { Pool } from 'pg';\nimport { PrismaPg } from '@prisma/adapter-pg';\n\nconst connectionString = process.env.DATABASE_URL!;\nconst pool = new Pool({ connectionString });\nconst adapter = new PrismaPg(pool);\n\nexport const prisma = new PrismaClient({ adapter });\n","export class HttpError extends Error {\n  constructor(\n    public message: string,\n    public statusCode: number = 500\n  ) {\n    super(message);\n    this.name = 'HttpError';\n  }\n}\n\nexport class HttpUnauthorized extends HttpError {\n  constructor(message: string = 'No autorizado') {\n    super(message, 401);\n    this.name = 'HttpUnauthorized';\n  }\n}\n\nexport class HttpNotFound extends HttpError {\n  constructor(message: string = 'No encontrado') {\n    super(message, 404);\n    this.name = 'HttpNotFound';\n  }\n}\n\nexport class HttpBadRequest extends HttpError {\n  constructor(message: string = 'Requisio invlida') {\n    super(message, 400);\n    this.name = 'HttpBadRequest';\n  }\n}\n\nexport class HttpForbidden extends HttpError {\n  constructor(message: string = 'Acesso negado') {\n    super(message, 403);\n    this.name = 'HttpForbidden';\n  }\n}\n\n","import 'dotenv/config';\nimport { randomBytes, randomUUID } from 'crypto';\nimport NodeCache from 'node-cache';\n\nconst ttlSeconds = Number(process.env.REFRESH_TOKEN_TIMEOUT || 60 * 60 * 3); // default 3h\nconst checkperiod = Number(process.env.REFRESH_TOKEN_CHECKPERIOD || ttlSeconds + 1);\nconst absoluteTtlSeconds = Number(process.env.REFRESH_TOKEN_ABSOLUTE_TTL || 0); // 0 = desabilitado\n\ntype RefreshRecord = { userId: number | string };\n\ntype MemoryEntry = {\n  userId: string;\n  familyId: string;\n  familyStartedAt: number; // epoch ms\n  createdAt: number; // epoch ms\n};\n\nfunction base64url(input: Buffer) {\n  return input.toString('base64').replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n}\n\nclass RefreshTokenService {\n  private cache = new NodeCache({ stdTTL: ttlSeconds, checkperiod });\n\n  generate(userId: number | string): string {\n    const token = base64url(randomBytes(48));\n    const now = Date.now();\n    const entry: MemoryEntry = {\n      userId: String(userId),\n      familyId: randomUUID(),\n      familyStartedAt: now,\n      createdAt: now,\n    };\n    this.cache.set(token, entry, ttlSeconds);\n    return token;\n  }\n\n  get(token: string | undefined | null): RefreshRecord | undefined {\n    if (!token) return undefined;\n    const entry = this.cache.get<MemoryEntry>(token);\n    if (!entry) return undefined;\n    if (absoluteTtlSeconds > 0 && entry.familyStartedAt + absoluteTtlSeconds * 1000 <= Date.now()) {\n      this.cache.del(token);\n      return undefined;\n    }\n    return { userId: entry.userId };\n  }\n\n  rotate(oldToken: string): { newToken: string; record: RefreshRecord } | null {\n    const current = this.cache.get<MemoryEntry>(oldToken);\n    if (!current) return null;\n    // verifica TTL absoluto da famlia\n    if (absoluteTtlSeconds > 0 && current.familyStartedAt + absoluteTtlSeconds * 1000 <= Date.now()) {\n      this.cache.del(oldToken);\n      return null;\n    }\n    // cria novo token e remove o antigo (revogao por deleo)\n    const newToken = base64url(randomBytes(48));\n    const now = Date.now();\n    const entry: MemoryEntry = {\n      userId: current.userId,\n      familyId: current.familyId,\n      familyStartedAt: current.familyStartedAt,\n      createdAt: now,\n    };\n    this.cache.set(newToken, entry, ttlSeconds);\n    this.cache.del(oldToken);\n    return { newToken, record: { userId: current.userId } };\n  }\n\n  revoke(token: string | undefined | null): void {\n    if (!token) return;\n    this.cache.del(token);\n  }\n\n  get ttl(): number {\n    return ttlSeconds;\n  }\n}\n\nexport const refreshTokenService = new RefreshTokenService();\n\nexport function getCookieOptions() {\n  const isProd = process.env.NODE_ENV === 'production';\n  return {\n    httpOnly: true as const,\n    secure: isProd,\n    sameSite: isProd ? ('none' as const) : ('lax' as const),\n    path: '/',\n    maxAge: ttlSeconds * 1000,\n  };\n}\n\nexport function parseCookie(header: string | undefined, name: string): string | undefined {\n  if (!header) return undefined;\n  const parts = header.split(';');\n  for (const p of parts) {\n    const [k, ...rest] = p.trim().split('=');\n    if (k === name) return rest.join('=');\n  }\n  return undefined;\n}\n","import { prisma } from \"@/database/prisma\";\nimport { Prisma } from '../../prisma/@prisma/client/client';\n\nexport class PermissionServiceError extends Error { }\n\nexport class PermissionService {\n  static async getUserPermissions(userId: string): Promise<string[]> {\n    // Busca o usurio para obter o role\n    const user = await prisma.user.findUnique({\n      where: { id: userId },\n      select: { role: true }\n    });\n\n    if (!user) {\n      return [];\n    }\n\n    // Retorna o role do usurio em lowercase como permisso\n    // ADMIN -> [\"admin\"]\n    // PROMOTER -> [\"promoter\"]\n    // USER -> [\"user\"]\n    return [user.role.toLowerCase()];\n\n    // TODO: Implementar quando os modelos de permisses forem adicionados ao schema\n    // const permissions = await prisma.permissions.findMany({\n    //   where: {\n    //     OR: [\n    //       { permissions: { some: { userId } } },\n    //       { permissions: { some: { group: { users: { some: { userId } } } } } },\n    //     ],\n    //   },\n    //   distinct: [\"name\"],\n    //   select: { name: true },\n    // });\n    // return permissions.map((permission: { name: string }) => permission.name);\n  }\n\n  static async addUserPermissions(userId: string, permissionNames: string[]) {\n    // TODO: Implementar quando os modelos de permisses forem adicionados ao schema\n    throw new PermissionServiceError(\"Funcionalidade no implementada - modelos de permisses no esto no schema\");\n  }\n\n  static async removeUserPermissions(userId: string, permissionNames: string[]) {\n    // TODO: Implementar quando os modelos de permisses forem adicionados ao schema\n    throw new PermissionServiceError(\"Funcionalidade no implementada - modelos de permisses no esto no schema\");\n  }\n\n  static async addUserGroupPermission(userId: string, groupId: number) {\n    // TODO: Implementar quando os modelos de grupos forem adicionados ao schema\n    throw new PermissionServiceError(\"Funcionalidade no implementada - modelos de grupos no esto no schema\");\n  }\n\n  static async removeUserGroupPermission(userId: string, groupId: number) {\n    // TODO: Implementar quando os modelos de grupos forem adicionados ao schema\n    throw new PermissionServiceError(\"Funcionalidade no implementada - modelos de grupos no esto no schema\");\n  }\n}\n","import { Router, Request, Response } from 'express';\nimport { sign } from 'jsonwebtoken';\nimport { authConfig } from '@/auth/jwt';\nimport { getCookieOptions, parseCookie, refreshTokenService } from '@/services/RefreshTokenService';\nimport { PermissionService } from '@/services/permissionService';\nimport { prisma } from '@/database/prisma';\n\nconst COOKIE_NAME = 'refresh_token';\n\nconst authRouter = Router();\n\nauthRouter.post('/refresh', async (req: Request, res: Response): Promise<void> => {\n  const cookieHeader = req.headers.cookie as string | undefined;\n  const current = parseCookie(cookieHeader, COOKIE_NAME);\n  const rotated = current ? await refreshTokenService.rotate(current) : null;\n  if (!rotated) {\n    res.status(401).json({ message: 'Refresh invlido' });\n    return;\n  }\n\n  const userId = String(rotated.record.userId);\n\n  // Buscar dados do usurio\n  const user = await prisma.user.findUnique({\n    where: { id: userId },\n    select: {\n      id: true,\n      name: true,\n      email: true,\n      role: true,\n      approvedAt: true\n    }\n  });\n\n  if (!user) {\n    res.status(401).json({ message: 'Usurio no encontrado' });\n    return;\n  }\n\n  // Buscar permisses do usurio\n  const permissions = await PermissionService.getUserPermissions(userId);\n\n  const accessToken = sign({ id: userId }, authConfig.secret, {\n    subject: userId,\n    expiresIn: authConfig.expiresIn,\n  });\n\n  res.cookie(COOKIE_NAME, rotated.newToken, getCookieOptions());\n  res.status(200).json({\n    token: accessToken,\n    user: {\n      id: user.id,\n      name: user.name,\n      email: user.email,\n      role: user.role,\n      approvedAt: user.approvedAt\n    },\n    permissions: permissions\n  });\n  return;\n});\n\nauthRouter.post('/sair', async (req: Request, res: Response): Promise<void> => {\n  const cookieHeader = req.headers.cookie as string | undefined;\n  const current = parseCookie(cookieHeader, COOKIE_NAME);\n  await refreshTokenService.revoke(current);\n  res.clearCookie(COOKIE_NAME, { ...getCookieOptions(), maxAge: 0 });\n  res.status(204).send();\n  return;\n});\n\nexport { authRouter, COOKIE_NAME };\n\n","import { sign } from 'jsonwebtoken'\nimport { authConfig } from '@/auth/jwt'\nimport { Request, Response, NextFunction } from 'express'\nimport { z } from 'zod'\nimport { prisma } from '@/database/prisma'\nimport { HttpUnauthorized, HttpBadRequest } from '@/utils/exceptions/http'\nimport { compare, hash } from 'bcrypt'\nimport { COOKIE_NAME, } from '@/routes/authRouter'\nimport { getCookieOptions, refreshTokenService } from '@/services/RefreshTokenService'\nimport { PermissionService } from '@/services/permissionService'\n\n\nclass AuthenticationController {\n  // Registrar novo usurio\n  async register(req: Request, res: Response, next: NextFunction) {\n    const registerSchema = z.object({\n      name: z.string({ message: \"O nome deve ser em String\" }).min(3, \"Nome deve ter no mnimo 3 caracteres\").trim(),\n      email: z.string({ message: \"O email deve ser em String\" }).email(\"Email invlido\").trim(),\n      senha: z.string({ message: \"A senha deve ser em String\" }).min(6, \"Senha deve ter no mnimo 6 caracteres\").max(20, \"Senha deve ter no mximo 20 caracteres\").trim()\n    })\n\n    const { name, email, senha } = registerSchema.parse(req.body)\n\n    // Verificar se o email j existe\n    const existingUser = await prisma.user.findUnique({ where: { email } })\n    if (existingUser) {\n      throw new HttpBadRequest(\"Email j cadastrado\")\n    }\n\n    // Fazer hash da senha\n    const hashedPassword = await hash(senha, 10)\n\n    // Criar usurio (role padro  USER)\n    const user = await prisma.user.create({\n      data: {\n        name,\n        email,\n        password: hashedPassword,\n        role: 'USER' // Role padro\n      }\n    })\n\n    // Gerar token\n    const token = sign({ id: user.id, email: user.email }, authConfig.secret, { subject: String(user.id), expiresIn: authConfig.expiresIn })\n    const refresh = refreshTokenService.generate(user.id);\n    res.cookie(COOKIE_NAME, refresh, getCookieOptions());\n\n    // Buscar permisses do usurio\n    const permissions = await PermissionService.getUserPermissions(user.id);\n\n    res.status(201).json({\n      token: token,\n      user: {\n        id: user.id,\n        name: user.name,\n        email: user.email,\n        role: user.role,\n        approvedAt: user.approvedAt,\n      },\n      permissions: permissions\n    })\n  }\n\n  async index(req: Request, res: Response, next: NextFunction) {\n    const authSchema = z.object({\n      email: z.string({ message: \"O email deve ser em String\" }).email().trim(),\n      senha: z.string({ message: \"A senha deve ser em String\" }).min(6).max(20).trim()\n    })\n\n    const { email, senha } = authSchema.parse(req.body)\n\n    const user = await prisma.user.findUnique({ where: { email } })\n\n    if (!user) {\n      throw new HttpUnauthorized(\"Usurio ou senha invlidos\")\n    }\n    const passwordMatch = await compare(senha, user.password)\n\n    if (!passwordMatch) {\n      throw new HttpUnauthorized(\"Usurio ou senha invlidos\")\n    }\n\n    const token = sign({ id: user.id, email: user.email }, authConfig.secret, { subject: String(user.id), expiresIn: authConfig.expiresIn })\n    const refresh = refreshTokenService.generate(user.id);\n    res.cookie(COOKIE_NAME, refresh, getCookieOptions());\n\n    // Buscar permisses do usurio\n    const permissions = await PermissionService.getUserPermissions(user.id);\n\n    res.status(200).json({\n      token: token,\n      user: {\n        id: user.id,\n        name: user.name,\n        email: user.email,\n        role: user.role,\n        approvedAt: user.approvedAt, // Importante para promoters verificarem se esto aprovados\n      },\n      permissions: permissions\n    })\n  }\n}\n\nexport { AuthenticationController }\n","import { Router } from \"express\";\nimport { AuthenticationController } from \"@/controllers/AuthenticationController\";\n\nconst authenticationRouter = Router();\nconst authenticationController = new AuthenticationController();\n\n// Registrar novo usurio\nauthenticationRouter.post(\"/registrar\", authenticationController.register);\n\n// Login\nauthenticationRouter.post(\"/\", authenticationController.index);\n\nexport { authenticationRouter };\n","import { Request, Response, NextFunction } from 'express'\nimport { z } from 'zod'\nimport { prisma } from '@/database/prisma'\nimport { HttpBadRequest, HttpForbidden, HttpNotFound, HttpUnauthorized } from '@/utils/exceptions/http'\nimport { EventStatus, UserRole } from '../../prisma/@prisma/client/enums'\n\nclass EventController {\n  // Criar evento (apenas promoters aprovados)\n  async create(req: Request, res: Response, next: NextFunction) {\n    const eventSchema = z.object({\n      title: z.string().min(3, \"Ttulo deve ter no mnimo 3 caracteres\"),\n      description: z.string().min(10, \"Descrio deve ter no mnimo 10 caracteres\"),\n      location: z.string().min(3, \"Localizao  obrigatria\"),\n      startDate: z.string().datetime(),\n      endDate: z.string().datetime(),\n      imageUrl: z.string().url().optional(),\n      requiresRegistration: z.boolean().default(true)\n    })\n\n    if (!req.user?.id) {\n      throw new HttpUnauthorized(\"Usurio no autenticado\")\n    }\n\n    const user = await prisma.user.findUnique({\n      where: { id: req.user.id },\n      select: { role: true, approvedAt: true }\n    })\n\n    if (!user) {\n      throw new HttpNotFound(\"Usurio no encontrado\")\n    }\n\n    if (user.role !== 'PROMOTER') {\n      throw new HttpForbidden(\"Apenas promoters podem criar eventos\")\n    }\n\n    if (!user.approvedAt) {\n      throw new HttpForbidden(\"Promoter no aprovado\")\n    }\n\n    const data = eventSchema.parse(req.body)\n    const startDate = new Date(data.startDate)\n    const endDate = new Date(data.endDate)\n\n    if (endDate <= startDate) {\n      throw new HttpBadRequest(\"Data de trmino deve ser posterior  data de incio\")\n    }\n\n    const event = await prisma.event.create({\n      data: {\n        title: data.title,\n        description: data.description,\n        location: data.location,\n        startDate,\n        endDate,\n        imageUrl: data.imageUrl,\n        requiresRegistration: data.requiresRegistration,\n        promoterId: req.user.id,\n        status: 'PENDING' as EventStatus\n      }\n    })\n\n    res.status(201).json(event)\n  }\n\n  // Listar eventos (pblico - apenas aprovados)\n  async index(req: Request, res: Response, next: NextFunction) {\n    const querySchema = z.object({\n      promoterId: z.string().uuid().optional(),\n      page: z.string().optional().transform(val => val ? parseInt(val) : 1),\n      limit: z.string().optional().transform(val => val ? parseInt(val) : 10)\n    })\n\n    const query = querySchema.parse(req.query)\n    const page = query.page || 1\n    const limit = query.limit || 10\n    const skip = (page - 1) * limit\n\n    const where: any = {\n      status: 'APPROVED' as EventStatus\n    }\n\n    if (query.promoterId) {\n      where.promoterId = query.promoterId\n    }\n\n    const [events, total] = await Promise.all([\n      prisma.event.findMany({\n        where,\n        include: {\n          promoter: {\n            select: {\n              id: true,\n              name: true,\n              email: true\n            }\n          },\n          _count: {\n            select: {\n              registrations: true\n            }\n          }\n        },\n        orderBy: {\n          startDate: 'asc'\n        },\n        skip,\n        take: limit\n      }),\n      prisma.event.count({ where })\n    ])\n\n    res.status(200).json({\n      events,\n      pagination: {\n        page,\n        limit,\n        total,\n        totalPages: Math.ceil(total / limit)\n      }\n    })\n  }\n\n  // Buscar evento especfico (pblico - apenas aprovados)\n  async show(req: Request, res: Response, next: NextFunction) {\n    const paramsSchema = z.object({\n      id: z.string().uuid()\n    })\n\n    const { id } = paramsSchema.parse(req.params)\n\n    const event = await prisma.event.findFirst({\n      where: {\n        id,\n        status: 'APPROVED' as EventStatus\n      },\n      include: {\n        promoter: {\n          select: {\n            id: true,\n            name: true,\n            email: true\n          }\n        },\n        _count: {\n          select: {\n            registrations: true\n          }\n        }\n      }\n    })\n\n    if (!event) {\n      throw new HttpNotFound(\"Evento no encontrado\")\n    }\n\n    res.status(200).json(event)\n  }\n\n  // Atualizar evento (apenas promoter dono)\n  async update(req: Request, res: Response, next: NextFunction) {\n    const paramsSchema = z.object({\n      id: z.string().uuid()\n    })\n    const eventSchema = z.object({\n      title: z.string().min(3, \"Ttulo deve ter no mnimo 3 caracteres\").optional(),\n      description: z.string().min(10, \"Descrio deve ter no mnimo 10 caracteres\").optional(),\n      location: z.string().min(3, \"Localizao  obrigatria\").optional(),\n      startDate: z.string().datetime().optional(),\n      endDate: z.string().datetime().optional(),\n      imageUrl: z.string().url().optional().nullable(),\n      requiresRegistration: z.boolean().optional()\n    })\n\n    const { id } = paramsSchema.parse(req.params)\n    const data = eventSchema.parse(req.body)\n\n    if (!req.user?.id) {\n      throw new HttpUnauthorized(\"Usurio no autenticado\")\n    }\n\n    const event = await prisma.event.findUnique({\n      where: { id },\n      select: { promoterId: true, status: true }\n    })\n\n    if (!event) {\n      throw new HttpNotFound(\"Evento no encontrado\")\n    }\n\n    if (event.promoterId !== req.user.id) {\n      throw new HttpForbidden(\"Apenas o promoter dono pode atualizar o evento\")\n    }\n\n    // Se evento j foi aprovado, volta para pendente aps atualizao\n    const updateData: any = {}\n\n    if (data.title) updateData.title = data.title\n    if (data.description) updateData.description = data.description\n    if (data.location) updateData.location = data.location\n    if (data.imageUrl !== undefined) updateData.imageUrl = data.imageUrl\n    if (data.requiresRegistration !== undefined) updateData.requiresRegistration = data.requiresRegistration\n\n    if (data.startDate) {\n      updateData.startDate = new Date(data.startDate)\n    }\n    if (data.endDate) {\n      updateData.endDate = new Date(data.endDate)\n    }\n\n    // Validar datas se ambas foram fornecidas\n    if (updateData.startDate && updateData.endDate) {\n      if (updateData.endDate <= updateData.startDate) {\n        throw new HttpBadRequest(\"Data de trmino deve ser posterior  data de incio\")\n      }\n    } else if (data.startDate || data.endDate) {\n      // Se apenas uma data foi fornecida, buscar a outra do evento atual\n      const currentEvent = await prisma.event.findUnique({\n        where: { id },\n        select: { startDate: true, endDate: true }\n      })\n\n      const startDate = updateData.startDate || currentEvent?.startDate\n      const endDate = updateData.endDate || currentEvent?.endDate\n\n      if (startDate && endDate && endDate <= startDate) {\n        throw new HttpBadRequest(\"Data de trmino deve ser posterior  data de incio\")\n      }\n    }\n\n    // Se evento estava aprovado e foi atualizado, volta para pendente\n    if (event.status === 'APPROVED') {\n      updateData.status = 'PENDING' as EventStatus\n      updateData.approvedBy = null\n      updateData.approvedAt = null\n      updateData.rejectionReason = null\n    }\n\n    const updatedEvent = await prisma.event.update({\n      where: { id },\n      data: updateData,\n      include: {\n        promoter: {\n          select: {\n            id: true,\n            name: true,\n            email: true\n          }\n        },\n        _count: {\n          select: {\n            registrations: true\n          }\n        }\n      }\n    })\n\n    res.status(200).json(updatedEvent)\n  }\n\n  // Aprovar evento (apenas admin)\n  async approve(req: Request, res: Response, next: NextFunction) {\n    const paramsSchema = z.object({\n      id: z.string().uuid()\n    })\n\n    const { id } = paramsSchema.parse(req.params)\n\n    if (!req.user?.id) {\n      throw new HttpUnauthorized(\"Usurio no autenticado\")\n    }\n\n    const admin = await prisma.user.findUnique({\n      where: { id: req.user.id },\n      select: { role: true }\n    })\n\n    if (admin?.role !== 'ADMIN') {\n      throw new HttpForbidden(\"Apenas administradores podem aprovar eventos\")\n    }\n\n    const event = await prisma.event.findUnique({\n      where: { id }\n    })\n\n    if (!event) {\n      throw new HttpNotFound(\"Evento no encontrado\")\n    }\n\n    const updatedEvent = await prisma.event.update({\n      where: { id },\n      data: {\n        status: 'APPROVED' as EventStatus,\n        approvedBy: req.user.id,\n        approvedAt: new Date()\n      }\n    })\n\n    res.status(200).json(updatedEvent)\n  }\n\n  // Rejeitar evento (apenas admin)\n  async reject(req: Request, res: Response, next: NextFunction) {\n    const paramsSchema = z.object({\n      id: z.string().uuid()\n    })\n    const bodySchema = z.object({\n      rejectionReason: z.string().min(5, \"Motivo da rejeio  obrigatrio\")\n    })\n\n    const { id } = paramsSchema.parse(req.params)\n    const { rejectionReason } = bodySchema.parse(req.body)\n\n    if (!req.user?.id) {\n      throw new HttpUnauthorized(\"Usurio no autenticado\")\n    }\n\n    const admin = await prisma.user.findUnique({\n      where: { id: req.user.id },\n      select: { role: true }\n    })\n\n    if (admin?.role !== 'ADMIN') {\n      throw new HttpForbidden(\"Apenas administradores podem rejeitar eventos\")\n    }\n\n    const event = await prisma.event.findUnique({\n      where: { id }\n    })\n\n    if (!event) {\n      throw new HttpNotFound(\"Evento no encontrado\")\n    }\n\n    const updatedEvent = await prisma.event.update({\n      where: { id },\n      data: {\n        status: 'REJECTED' as EventStatus,\n        approvedBy: req.user.id,\n        approvedAt: new Date(),\n        rejectionReason\n      }\n    })\n\n    res.status(200).json(updatedEvent)\n  }\n\n  // Cancelar evento (apenas o promoter dono)\n  async cancel(req: Request, res: Response, next: NextFunction) {\n    const paramsSchema = z.object({\n      id: z.string().uuid()\n    })\n\n    const { id } = paramsSchema.parse(req.params)\n\n    if (!req.user?.id) {\n      throw new HttpUnauthorized(\"Usurio no autenticado\")\n    }\n\n    const event = await prisma.event.findUnique({\n      where: { id },\n      select: { promoterId: true, status: true }\n    })\n\n    if (!event) {\n      throw new HttpNotFound(\"Evento no encontrado\")\n    }\n\n    if (event.promoterId !== req.user.id) {\n      throw new HttpForbidden(\"Apenas o promoter dono pode cancelar o evento\")\n    }\n\n    if (event.status === 'CANCELLED') {\n      throw new HttpBadRequest(\"Evento j est cancelado\")\n    }\n\n    const updatedEvent = await prisma.event.update({\n      where: { id },\n      data: {\n        status: 'CANCELLED' as EventStatus\n      }\n    })\n\n    res.status(200).json(updatedEvent)\n  }\n\n  // Listar eventos do promoter autenticado (todos os status)\n  async myEvents(req: Request, res: Response, next: NextFunction) {\n    if (!req.user?.id) {\n      throw new HttpUnauthorized(\"Usurio no autenticado\")\n    }\n\n    const querySchema = z.object({\n      status: z.enum(['PENDING', 'APPROVED', 'REJECTED', 'CANCELLED']).optional(),\n      page: z.string().optional().transform(val => val ? parseInt(val) : 1),\n      limit: z.string().optional().transform(val => val ? parseInt(val) : 10)\n    })\n\n    const query = querySchema.parse(req.query)\n    const page = query.page || 1\n    const limit = query.limit || 10\n    const skip = (page - 1) * limit\n\n    const where: any = {\n      promoterId: req.user.id\n    }\n\n    if (query.status) {\n      where.status = query.status as EventStatus\n    }\n\n    const [events, total] = await Promise.all([\n      prisma.event.findMany({\n        where,\n        include: {\n          promoter: {\n            select: {\n              id: true,\n              name: true,\n              email: true\n            }\n          },\n          _count: {\n            select: {\n              registrations: true\n            }\n          }\n        },\n        orderBy: {\n          createdAt: 'desc'\n        },\n        skip,\n        take: limit\n      }),\n      prisma.event.count({ where })\n    ])\n\n    res.status(200).json({\n      events,\n      pagination: {\n        page,\n        limit,\n        total,\n        totalPages: Math.ceil(total / limit)\n      }\n    })\n  }\n\n  // Listar eventos pendentes (apenas admin)\n  async pendingEvents(req: Request, res: Response, next: NextFunction) {\n    if (!req.user?.id) {\n      throw new HttpUnauthorized(\"Usurio no autenticado\")\n    }\n\n    const admin = await prisma.user.findUnique({\n      where: { id: req.user.id },\n      select: { role: true }\n    })\n\n    if (admin?.role !== 'ADMIN') {\n      throw new HttpForbidden(\"Apenas administradores podem ver eventos pendentes\")\n    }\n\n    const querySchema = z.object({\n      page: z.string().optional().transform(val => val ? parseInt(val) : 1),\n      limit: z.string().optional().transform(val => val ? parseInt(val) : 10)\n    })\n\n    const query = querySchema.parse(req.query)\n    const page = query.page || 1\n    const limit = query.limit || 10\n    const skip = (page - 1) * limit\n\n    const where = {\n      status: 'PENDING' as EventStatus\n    }\n\n    const [events, total] = await Promise.all([\n      prisma.event.findMany({\n        where,\n        include: {\n          promoter: {\n            select: {\n              id: true,\n              name: true,\n              email: true\n            }\n          },\n          _count: {\n            select: {\n              registrations: true\n            }\n          }\n        },\n        orderBy: {\n          createdAt: 'asc'\n        },\n        skip,\n        take: limit\n      }),\n      prisma.event.count({ where })\n    ])\n\n    res.status(200).json({\n      events,\n      pagination: {\n        page,\n        limit,\n        total,\n        totalPages: Math.ceil(total / limit)\n      }\n    })\n  }\n\n  // Revogar evento aprovado (apenas admin) - volta para pendente\n  async revoke(req: Request, res: Response, next: NextFunction) {\n    const paramsSchema = z.object({\n      id: z.string().uuid()\n    })\n\n    const { id } = paramsSchema.parse(req.params)\n\n    if (!req.user?.id) {\n      throw new HttpUnauthorized(\"Usurio no autenticado\")\n    }\n\n    const admin = await prisma.user.findUnique({\n      where: { id: req.user.id },\n      select: { role: true }\n    })\n\n    if (admin?.role !== 'ADMIN') {\n      throw new HttpForbidden(\"Apenas administradores podem revogar eventos\")\n    }\n\n    const event = await prisma.event.findUnique({\n      where: { id }\n    })\n\n    if (!event) {\n      throw new HttpNotFound(\"Evento no encontrado\")\n    }\n\n    if (event.status !== 'APPROVED') {\n      throw new HttpBadRequest(\"Apenas eventos aprovados podem ser revogados\")\n    }\n\n    const updatedEvent = await prisma.event.update({\n      where: { id },\n      data: {\n        status: 'PENDING' as EventStatus,\n        approvedBy: null,\n        approvedAt: null,\n        rejectionReason: null\n      },\n      include: {\n        promoter: {\n          select: {\n            id: true,\n            name: true,\n            email: true\n          }\n        },\n        _count: {\n          select: {\n            registrations: true\n          }\n        }\n      }\n    })\n\n    res.status(200).json(updatedEvent)\n  }\n}\n\nexport { EventController }\n\n","import { Request, Response, NextFunction } from \"express\";\nimport { HttpNotFound, HttpUnauthorized } from \"@/utils/exceptions/http\";\nimport { verify } from \"jsonwebtoken\";\nimport { authConfig } from \"@/auth/jwt\";\n\ninterface TokenPayload {\n  sub: string;\n  email: string;\n}\n\nexport function authenticationHandler(req: Request, res: Response, next: NextFunction) {\n  const authHeader = req.headers.authorization;\n  if (!authHeader) {\n    throw new HttpNotFound(\"Token no fornecido\");\n  }\n  try {\n    // Suporta \"Bearer <token>\" e tambm o token puro (compat)\n    let token: string;\n    if (Array.isArray(authHeader)) {\n      token = authHeader[0] ?? \"\";\n    } else {\n      token = authHeader;\n    }\n    token = token.trim();\n    const bearerRe = /^(Bearer)\\s+/i;\n    if (bearerRe.test(token)) {\n      token = token.replace(bearerRe, '').trim();\n    }\n    if (!token) {\n      throw new HttpNotFound(\"Token no fornecido\");\n    }\n\n    const { sub: id, email } = verify(token, authConfig.secret) as TokenPayload;\n    req.user = {\n      id: String(id),\n      email: String(email)\n    }\n    return next();\n  } catch (error) {\n    throw new HttpUnauthorized(\"Token invlido\");\n  }\n}\n","import { PermissionService } from \"@/services/permissionService\";\nimport { HttpUnauthorized } from \"@/utils/exceptions/http\";\nimport { Request, Response, NextFunction } from \"express\";\n\ntype OperationType = \"all\" | \"any\";\n\nfunction roleHandler(requiredRoles: string[], userRoles: string[], operator: OperationType = \"all\"): boolean {\n  const operation = operator === \"all\" ? requiredRoles.every.bind(requiredRoles) : requiredRoles.some.bind(requiredRoles);\n  return operation(role => userRoles.includes(role));\n}\n\nfunction authorizationHandler(\n  roles: string[],\n  byPassRoles: string[] = [\"admin\"],\n  operator: OperationType = \"all\"\n) {\n  return async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n    try {\n      if (!req.user || !req.user.id) {\n        throw new HttpUnauthorized(\"Usurio no autenticado\");\n      }\n\n      const userRoles = await PermissionService.getUserPermissions(req.user.id);\n\n      const hasByPassRoles = roleHandler(byPassRoles, userRoles, \"any\");\n\n      const hasRoles = roleHandler(roles, userRoles, operator);\n\n      if (hasByPassRoles || hasRoles) {\n        return next();\n      }\n\n      throw new HttpUnauthorized(\"Usurio no autorizado\");\n    } catch (error) {\n      next(error);\n    }\n  };\n}\n\nexport { authorizationHandler };\n","import { Router } from \"express\";\nimport { EventController } from \"@/controllers/EventController\";\nimport { authenticationHandler } from \"@/middlewares/AuthenticationHandler\";\nimport { authorizationHandler } from \"@/middlewares/AuthontizationHandler\";\n\nconst eventRouter = Router();\nconst eventController = new EventController();\n\n// Criar evento (promoter autenticado)\neventRouter.post(\"/\", authenticationHandler, eventController.create);\n\n// Listar eventos do promoter autenticado (todos os status)\neventRouter.get(\"/meus\", authenticationHandler, eventController.myEvents);\n\n// Listar eventos pendentes (apenas admin)\neventRouter.get(\"/pendentes\", authenticationHandler, authorizationHandler([\"admin\"]), eventController.pendingEvents);\n\n// Listar eventos (pblico - apenas aprovados)\neventRouter.get(\"/\", eventController.index);\n\n// Buscar evento especfico (pblico - apenas aprovados)\neventRouter.get(\"/:id\", eventController.show);\n\n// Atualizar evento (promoter dono)\neventRouter.put(\"/:id\", authenticationHandler, eventController.update);\n\n// Aprovar evento (apenas admin)\neventRouter.put(\"/:id/aprovar\", authenticationHandler, authorizationHandler([\"admin\"]), eventController.approve);\n\n// Rejeitar evento (apenas admin)\neventRouter.put(\"/:id/rejeitar\", authenticationHandler, authorizationHandler([\"admin\"]), eventController.reject);\n\n// Revogar evento aprovado (apenas admin) - volta para pendente\neventRouter.put(\"/:id/revogar\", authenticationHandler, authorizationHandler([\"admin\"]), eventController.revoke);\n\n// Cancelar evento (promoter dono)\neventRouter.put(\"/:id/cancelar\", authenticationHandler, eventController.cancel);\n\nexport { eventRouter };\n\n","import { Request, Response, NextFunction } from 'express'\nimport { z } from 'zod'\nimport { prisma } from '@/database/prisma'\nimport { HttpForbidden, HttpNotFound, HttpUnauthorized } from '@/utils/exceptions/http'\nimport { UserRole } from '../../prisma/@prisma/client/enums'\n\nclass PromoterController {\n  // Solicitar se tornar promoter (usurio autenticado)\n  async request(req: Request, res: Response, next: NextFunction) {\n    if (!req.user?.id) {\n      throw new HttpUnauthorized(\"Usurio no autenticado\")\n    }\n\n    const user = await prisma.user.findUnique({\n      where: { id: req.user.id },\n      select: { role: true, approvedAt: true }\n    })\n\n    if (!user) {\n      throw new HttpNotFound(\"Usurio no encontrado\")\n    }\n\n    // Verificar se j  promoter\n    if (user.role === 'PROMOTER') {\n      if (user.approvedAt) {\n        throw new HttpForbidden(\"Voc j  um promoter aprovado\")\n      } else {\n        throw new HttpForbidden(\"Sua solicitao de promoter j est pendente de aprovao\")\n      }\n    }\n\n    // Verificar se  admin (admins no podem se tornar promoters)\n    if (user.role === 'ADMIN') {\n      throw new HttpForbidden(\"Administradores no podem se tornar promoters\")\n    }\n\n    // Atualizar role para PROMOTER (pendente de aprovao)\n    const updatedUser = await prisma.user.update({\n      where: { id: req.user.id },\n      data: {\n        role: 'PROMOTER' as UserRole,\n        approvedAt: null, // Pendente de aprovao\n        approvedBy: null\n      },\n      select: {\n        id: true,\n        name: true,\n        email: true,\n        role: true,\n        approvedAt: true\n      }\n    })\n\n    res.status(200).json({\n      message: \"Solicitao de promoter enviada com sucesso. Aguarde aprovao de um administrador.\",\n      user: updatedUser\n    })\n  }\n\n  // Listar promoters pendentes (apenas admin)\n  async index(req: Request, res: Response, next: NextFunction) {\n    if (!req.user?.id) {\n      throw new HttpUnauthorized(\"Usurio no autenticado\")\n    }\n\n    const admin = await prisma.user.findUnique({\n      where: { id: req.user.id },\n      select: { role: true }\n    })\n\n    if (admin?.role !== 'ADMIN') {\n      throw new HttpForbidden(\"Apenas administradores podem ver promoters pendentes\")\n    }\n\n    const promoters = await prisma.user.findMany({\n      where: {\n        role: UserRole.PROMOTER,\n        approvedAt: null\n      },\n      select: {\n        id: true,\n        name: true,\n        email: true,\n        createdAt: true\n      },\n      orderBy: {\n        createdAt: 'asc'\n      }\n    })\n\n    res.status(200).json(promoters)\n  }\n\n  // Aprovar promoter (apenas admin)\n  async approve(req: Request, res: Response, next: NextFunction) {\n    const paramsSchema = z.object({\n      id: z.string().uuid()\n    })\n\n    const { id } = paramsSchema.parse(req.params)\n\n    if (!req.user?.id) {\n      throw new HttpUnauthorized(\"Usurio no autenticado\")\n    }\n\n    const admin = await prisma.user.findUnique({\n      where: { id: req.user.id },\n      select: { role: true }\n    })\n\n    if (admin?.role !== 'ADMIN') {\n      throw new HttpForbidden(\"Apenas administradores podem aprovar promoters\")\n    }\n\n    const promoter = await prisma.user.findUnique({\n      where: { id },\n      select: { role: true, approvedAt: true }\n    })\n\n    if (!promoter) {\n      throw new HttpNotFound(\"Promoter no encontrado\")\n    }\n\n    if (promoter.role !== 'PROMOTER') {\n      throw new HttpForbidden(\"Usurio no  um promoter\")\n    }\n\n    if (promoter.approvedAt) {\n      throw new HttpForbidden(\"Promoter j est aprovado\")\n    }\n\n    const updatedPromoter = await prisma.user.update({\n      where: { id },\n      data: {\n        approvedAt: new Date(),\n        approvedBy: req.user.id\n      },\n      select: {\n        id: true,\n        name: true,\n        email: true,\n        approvedAt: true\n      }\n    })\n\n    res.status(200).json(updatedPromoter)\n  }\n\n  // Rejeitar promoter (apenas admin) - remover role de promoter\n  async reject(req: Request, res: Response, next: NextFunction) {\n    const paramsSchema = z.object({\n      id: z.string().uuid()\n    })\n\n    const { id } = paramsSchema.parse(req.params)\n\n    if (!req.user?.id) {\n      throw new HttpUnauthorized(\"Usurio no autenticado\")\n    }\n\n    const admin = await prisma.user.findUnique({\n      where: { id: req.user.id },\n      select: { role: true }\n    })\n\n    if (admin?.role !== 'ADMIN') {\n      throw new HttpForbidden(\"Apenas administradores podem rejeitar promoters\")\n    }\n\n    const promoter = await prisma.user.findUnique({\n      where: { id },\n      select: { role: true }\n    })\n\n    if (!promoter) {\n      throw new HttpNotFound(\"Promoter no encontrado\")\n    }\n\n    if (promoter.role !== 'PROMOTER') {\n      throw new HttpForbidden(\"Usurio no  um promoter\")\n    }\n\n    // Reverter para USER ao invs de deletar\n    const updatedUser = await prisma.user.update({\n      where: { id },\n      data: {\n        role: 'USER' as UserRole,\n        approvedAt: null,\n        approvedBy: null\n      },\n      select: {\n        id: true,\n        name: true,\n        email: true,\n        role: true\n      }\n    })\n\n    res.status(200).json(updatedUser)\n  }\n}\n\nexport { PromoterController }\n\n","import { Router } from \"express\";\nimport { PromoterController } from \"@/controllers/PromoterController\";\nimport { authenticationHandler } from \"@/middlewares/AuthenticationHandler\";\nimport { authorizationHandler } from \"@/middlewares/AuthontizationHandler\";\n\nconst promoterRouter = Router();\nconst promoterController = new PromoterController();\n\n// Solicitar se tornar promoter (usurio autenticado)\npromoterRouter.post(\"/solicitar\", authenticationHandler, promoterController.request);\n\n// Listar promoters pendentes (apenas admin)\npromoterRouter.get(\"/pendentes\", authenticationHandler, authorizationHandler([\"admin\"]), promoterController.index);\n\n// Aprovar promoter (apenas admin)\npromoterRouter.post(\"/:id/aprovar\", authenticationHandler, authorizationHandler([\"admin\"]), promoterController.approve);\n\n// Rejeitar promoter (apenas admin)\npromoterRouter.post(\"/:id/rejeitar\", authenticationHandler, authorizationHandler([\"admin\"]), promoterController.reject);\n\nexport { promoterRouter };\n\n","import { Request, Response, NextFunction } from 'express'\nimport { z } from 'zod'\nimport { prisma } from '@/database/prisma'\nimport { HttpBadRequest, HttpForbidden, HttpNotFound, HttpUnauthorized } from '@/utils/exceptions/http'\nimport { EventStatus, UserRole } from '../../prisma/@prisma/client/enums'\n\nclass EventRegistrationController {\n  // Inscrever-se em evento\n  async create(req: Request, res: Response, next: NextFunction) {\n    const bodySchema = z.object({\n      eventId: z.string().uuid()\n    })\n\n    const { eventId } = bodySchema.parse(req.body)\n\n    if (!req.user?.id) {\n      throw new HttpUnauthorized(\"Usurio no autenticado\")\n    }\n\n    const event = await prisma.event.findUnique({\n      where: { id: eventId },\n      select: {\n        id: true,\n        status: true,\n        requiresRegistration: true,\n        startDate: true\n      }\n    })\n\n    if (!event) {\n      throw new HttpNotFound(\"Evento no encontrado\")\n    }\n\n    if (event.status !== 'APPROVED') {\n      throw new HttpBadRequest(\"Evento no est aprovado\")\n    }\n\n    if (!event.requiresRegistration) {\n      throw new HttpBadRequest(\"Evento no requer inscrio\")\n    }\n\n    if (new Date(event.startDate) < new Date()) {\n      throw new HttpBadRequest(\"Evento j iniciou\")\n    }\n\n    // Verificar se j est inscrito\n    const existingRegistration = await prisma.eventRegistration.findUnique({\n      where: {\n        eventId_userId: {\n          eventId,\n          userId: req.user.id\n        }\n      }\n    })\n\n    if (existingRegistration) {\n      throw new HttpBadRequest(\"Usurio j est inscrito neste evento\")\n    }\n\n    const registration = await prisma.eventRegistration.create({\n      data: {\n        eventId,\n        userId: req.user.id\n      },\n      include: {\n        event: {\n          select: {\n            id: true,\n            title: true,\n            startDate: true\n          }\n        },\n        user: {\n          select: {\n            id: true,\n            name: true,\n            email: true\n          }\n        }\n      }\n    })\n\n    res.status(201).json(registration)\n  }\n\n  // Cancelar inscrio\n  async delete(req: Request, res: Response, next: NextFunction) {\n    const paramsSchema = z.object({\n      eventId: z.string().uuid()\n    })\n\n    const { eventId } = paramsSchema.parse(req.params)\n\n    if (!req.user?.id) {\n      throw new HttpUnauthorized(\"Usurio no autenticado\")\n    }\n\n    const registration = await prisma.eventRegistration.findUnique({\n      where: {\n        eventId_userId: {\n          eventId,\n          userId: req.user.id\n        }\n      }\n    })\n\n    if (!registration) {\n      throw new HttpNotFound(\"Inscrio no encontrada\")\n    }\n\n    await prisma.eventRegistration.delete({\n      where: {\n        id: registration.id\n      }\n    })\n\n    res.status(204).send()\n  }\n\n  // Listar eventos em que o usurio est inscrito\n  async myRegistrations(req: Request, res: Response, next: NextFunction) {\n    if (!req.user?.id) {\n      throw new HttpUnauthorized(\"Usurio no autenticado\")\n    }\n\n    const registrations = await prisma.eventRegistration.findMany({\n      where: {\n        userId: req.user.id\n      },\n      include: {\n        event: {\n          include: {\n            promoter: {\n              select: {\n                id: true,\n                name: true,\n                email: true\n              }\n            },\n            _count: {\n              select: {\n                registrations: true\n              }\n            }\n          }\n        }\n      },\n      orderBy: {\n        createdAt: 'desc'\n      }\n    })\n\n    res.status(200).json(registrations.map(r => ({\n      id: r.id,\n      eventId: r.eventId,\n      createdAt: r.createdAt,\n      event: r.event\n    })))\n  }\n\n  // Listar inscritos em evento (apenas promoter dono ou admin)\n  async index(req: Request, res: Response, next: NextFunction) {\n    const paramsSchema = z.object({\n      eventId: z.string().uuid()\n    })\n\n    const { eventId } = paramsSchema.parse(req.params)\n\n    if (!req.user?.id) {\n      throw new HttpUnauthorized(\"Usurio no autenticado\")\n    }\n\n    const event = await prisma.event.findUnique({\n      where: { id: eventId },\n      select: {\n        id: true,\n        promoterId: true\n      }\n    })\n\n    if (!event) {\n      throw new HttpNotFound(\"Evento no encontrado\")\n    }\n\n    const user = await prisma.user.findUnique({\n      where: { id: req.user.id },\n      select: { role: true }\n    })\n\n    // Verificar se  admin ou promoter dono do evento\n    if (user?.role !== 'ADMIN' && event.promoterId !== req.user.id) {\n      throw new HttpForbidden(\"Apenas o promoter dono ou admin podem ver os inscritos\")\n    }\n\n    const registrations = await prisma.eventRegistration.findMany({\n      where: { eventId },\n      include: {\n        user: {\n          select: {\n            id: true,\n            name: true,\n            email: true\n          }\n        }\n      },\n      orderBy: {\n        createdAt: 'asc'\n      }\n    })\n\n    res.status(200).json({\n      eventId,\n      total: registrations.length,\n      registrations: registrations.map(r => ({\n        id: r.id,\n        user: r.user,\n        createdAt: r.createdAt\n      }))\n    })\n  }\n}\n\nexport { EventRegistrationController }\n\n","import { Router } from \"express\";\nimport { EventRegistrationController } from \"@/controllers/EventRegistrationController\";\nimport { authenticationHandler } from \"@/middlewares/AuthenticationHandler\";\n\nconst eventRegistrationRouter = Router();\nconst eventRegistrationController = new EventRegistrationController();\n\n// Listar eventos em que o usurio est inscrito\neventRegistrationRouter.get(\"/meus\", authenticationHandler, eventRegistrationController.myRegistrations);\n\n// Inscrever-se em evento (usurio autenticado)\neventRegistrationRouter.post(\"/\", authenticationHandler, eventRegistrationController.create);\n\n// Cancelar inscrio (usurio autenticado)\neventRegistrationRouter.delete(\"/:eventId\", authenticationHandler, eventRegistrationController.delete);\n\n// Listar inscritos (promoter dono ou admin)\neventRegistrationRouter.get(\"/:eventId/inscritos\", authenticationHandler, eventRegistrationController.index);\n\nexport { eventRegistrationRouter };\n\n","import { Request, Response, NextFunction } from 'express'\nimport { z } from 'zod'\nimport { prisma } from '@/database/prisma'\nimport { HttpBadRequest, HttpNotFound, HttpUnauthorized } from '@/utils/exceptions/http'\nimport { EventStatus } from '../../prisma/@prisma/client/enums'\n\nclass SavedEventController {\n  // Salvar evento\n  async create(req: Request, res: Response, next: NextFunction) {\n    const bodySchema = z.object({\n      eventId: z.string().uuid()\n    })\n\n    const { eventId } = bodySchema.parse(req.body)\n\n    if (!req.user?.id) {\n      throw new HttpUnauthorized(\"Usurio no autenticado\")\n    }\n\n    const event = await prisma.event.findUnique({\n      where: { id: eventId },\n      select: {\n        id: true,\n        status: true\n      }\n    })\n\n    if (!event) {\n      throw new HttpNotFound(\"Evento no encontrado\")\n    }\n\n    if (event.status !== 'APPROVED') {\n      throw new HttpBadRequest(\"Apenas eventos aprovados podem ser salvos\")\n    }\n\n    // Verificar se j est salvo\n    const existingSaved = await prisma.savedEvent.findUnique({\n      where: {\n        eventId_userId: {\n          eventId,\n          userId: req.user.id\n        }\n      }\n    })\n\n    if (existingSaved) {\n      throw new HttpBadRequest(\"Evento j est salvo\")\n    }\n\n    const savedEvent = await prisma.savedEvent.create({\n      data: {\n        eventId,\n        userId: req.user.id\n      },\n      include: {\n        event: {\n          include: {\n            promoter: {\n              select: {\n                id: true,\n                name: true\n              }\n            },\n            _count: {\n              select: {\n                registrations: true\n              }\n            }\n          }\n        }\n      }\n    })\n\n    res.status(201).json(savedEvent)\n  }\n\n  // Remover evento salvo\n  async delete(req: Request, res: Response, next: NextFunction) {\n    const paramsSchema = z.object({\n      eventId: z.string().uuid()\n    })\n\n    const { eventId } = paramsSchema.parse(req.params)\n\n    if (!req.user?.id) {\n      throw new HttpUnauthorized(\"Usurio no autenticado\")\n    }\n\n    const savedEvent = await prisma.savedEvent.findUnique({\n      where: {\n        eventId_userId: {\n          eventId,\n          userId: req.user.id\n        }\n      }\n    })\n\n    if (!savedEvent) {\n      throw new HttpNotFound(\"Evento no est salvo\")\n    }\n\n    await prisma.savedEvent.delete({\n      where: {\n        id: savedEvent.id\n      }\n    })\n\n    res.status(204).send()\n  }\n\n  // Listar eventos salvos do usurio\n  async index(req: Request, res: Response, next: NextFunction) {\n    if (!req.user?.id) {\n      throw new HttpUnauthorized(\"Usurio no autenticado\")\n    }\n\n    const savedEvents = await prisma.savedEvent.findMany({\n      where: {\n        userId: req.user.id\n      },\n      include: {\n        event: {\n          include: {\n            promoter: {\n              select: {\n                id: true,\n                name: true,\n                email: true\n              }\n            },\n            _count: {\n              select: {\n                registrations: true\n              }\n            }\n          }\n        }\n      },\n      orderBy: {\n        createdAt: 'desc'\n      }\n    })\n\n    res.status(200).json(savedEvents)\n  }\n}\n\nexport { SavedEventController }\n\n","import { Router } from \"express\";\nimport { SavedEventController } from \"@/controllers/SavedEventController\";\nimport { authenticationHandler } from \"@/middlewares/AuthenticationHandler\";\n\nconst savedEventRouter = Router();\nconst savedEventController = new SavedEventController();\n\n// Salvar evento (usurio autenticado)\nsavedEventRouter.post(\"/\", authenticationHandler, savedEventController.create);\n\n// Remover evento salvo (usurio autenticado)\nsavedEventRouter.delete(\"/:eventId\", authenticationHandler, savedEventController.delete);\n\n// Listar eventos salvos (usurio autenticado)\nsavedEventRouter.get(\"/\", authenticationHandler, savedEventController.index);\n\nexport { savedEventRouter };\n\n","import { Request, Response, NextFunction } from 'express';\nimport { prisma } from '@/database/prisma';\nimport { EventStatus, UserRole } from '../../prisma/@prisma/client/enums';\n\nclass AdminStatsController {\n  async index(req: Request, res: Response, next: NextFunction) {\n    try {\n      // Total de inscries\n      const totalInscritos = await prisma.eventRegistration.count();\n\n      // Total de eventos\n      const totalEventos = await prisma.event.count();\n\n      // Eventos por status\n      const eventosPorStatusRaw = await prisma.event.groupBy({\n        by: ['status'],\n        _count: {\n          id: true,\n        },\n      });\n\n      const eventosPorStatus = {\n        PENDING: 0,\n        APPROVED: 0,\n        REJECTED: 0,\n        CANCELLED: 0,\n      };\n\n      eventosPorStatusRaw.forEach((item) => {\n        eventosPorStatus[item.status] = item._count.id;\n      });\n\n      // Usurios ativos (ltimos 30 dias) - usando updatedAt como aproximao\n      const trintaDiasAtras = new Date();\n      trintaDiasAtras.setDate(trintaDiasAtras.getDate() - 30);\n\n      const totalUsuariosAtivos = await prisma.user.count({\n        where: {\n          updatedAt: {\n            gte: trintaDiasAtras,\n          },\n        },\n      });\n\n      // Total de usurios\n      const totalUsuarios = await prisma.user.count();\n\n      // Promoters\n      const totalPromoters = await prisma.user.count({\n        where: {\n          role: UserRole.PROMOTER,\n        },\n      });\n\n      const promotersPendentes = await prisma.user.count({\n        where: {\n          role: UserRole.PROMOTER,\n          approvedAt: null,\n        },\n      });\n\n      const promotersAprovados = await prisma.user.count({\n        where: {\n          role: UserRole.PROMOTER,\n          approvedAt: {\n            not: null,\n          },\n        },\n      });\n\n      // Locais mais populares (top 10)\n      const locaisMaisPopularesRaw = await prisma.event.groupBy({\n        by: ['location'],\n        _count: {\n          id: true,\n        },\n        where: {\n          status: EventStatus.APPROVED,\n        },\n        orderBy: {\n          _count: {\n            id: 'desc',\n          },\n        },\n        take: 10,\n      });\n\n      // Adicionar total de inscries por local\n      const locaisMaisPopulares = await Promise.all(\n        locaisMaisPopularesRaw.map(async (local) => {\n          const eventosDoLocal = await prisma.event.findMany({\n            where: {\n              location: local.location,\n              status: EventStatus.APPROVED,\n            },\n            select: {\n              id: true,\n            },\n          });\n\n          const totalInscritosLocal = await prisma.eventRegistration.count({\n            where: {\n              eventId: {\n                in: eventosDoLocal.map((e) => e.id),\n              },\n            },\n          });\n\n          return {\n            localizacao: local.location,\n            totalEventos: local._count.id,\n            totalInscritos: totalInscritosLocal,\n          };\n        })\n      );\n\n      // Taxa de aceitao - Eventos\n      const eventosAprovados = eventosPorStatus.APPROVED;\n      const eventosRejeitados = eventosPorStatus.REJECTED;\n      const totalAvaliados = eventosAprovados + eventosRejeitados;\n      const taxaAprovacaoEventos =\n        totalAvaliados > 0 ? Number(((eventosAprovados / totalAvaliados) * 100).toFixed(2)) : 0;\n\n      // Taxa de aceitao - Promoters\n      // Como no temos histrico de rejeio direto, vamos considerar apenas\n      // os promoters que foram avaliados (aprovados + pendentes)\n      // Promoters rejeitados voltam para USER, mas no temos como rastrear isso\n      const promotersRejeitadosCount = 0; // No temos como rastrear diretamente sem histrico\n\n      const totalPromotersAvaliados = promotersAprovados + promotersPendentes;\n      const taxaAprovacaoPromoters =\n        totalPromotersAvaliados > 0 && promotersAprovados > 0\n          ? Number(((promotersAprovados / totalPromotersAvaliados) * 100).toFixed(2))\n          : 0;\n\n      // Eventos por ms (ltimos 6 meses)\n      const seisMesesAtras = new Date();\n      seisMesesAtras.setMonth(seisMesesAtras.getMonth() - 6);\n\n      const eventosDetalhados = await prisma.event.findMany({\n        where: {\n          createdAt: {\n            gte: seisMesesAtras,\n          },\n        },\n        select: {\n          createdAt: true,\n          status: true,\n        },\n      });\n\n      // Agrupar por ms\n      const eventosPorMesMap = new Map<\n        string,\n        { total: number; aprovados: number; pendentes: number }\n      >();\n\n      eventosDetalhados.forEach((evento) => {\n        const mes = new Date(evento.createdAt).toLocaleDateString('pt-BR', {\n          month: 'long',\n          year: 'numeric',\n        });\n\n        const stats = eventosPorMesMap.get(mes) || { total: 0, aprovados: 0, pendentes: 0 };\n        stats.total++;\n\n        if (evento.status === EventStatus.APPROVED) stats.aprovados++;\n        if (evento.status === EventStatus.PENDING) stats.pendentes++;\n\n        eventosPorMesMap.set(mes, stats);\n      });\n\n      const eventosPorMes = Array.from(eventosPorMesMap.entries())\n        .map(([mes, stats]) => ({\n          mes,\n          ...stats,\n        }))\n        .sort((a, b) => {\n          // Ordenar cronologicamente\n          try {\n            const [mesA, anoA] = a.mes.split(' ');\n            const [mesB, anoB] = b.mes.split(' ');\n            const dateA = new Date(parseInt(anoA), getMonthNumber(mesA) - 1);\n            const dateB = new Date(parseInt(anoB), getMonthNumber(mesB) - 1);\n            return dateA.getTime() - dateB.getTime();\n          } catch {\n            return 0;\n          }\n        })\n        .slice(-6);\n\n      // Inscries por ms (ltimos 6 meses)\n      const inscricoesDetalhadas = await prisma.eventRegistration.findMany({\n        where: {\n          createdAt: {\n            gte: seisMesesAtras,\n          },\n        },\n        select: {\n          createdAt: true,\n        },\n      });\n\n      const inscricoesPorMesMap = new Map<string, number>();\n\n      inscricoesDetalhadas.forEach((inscricao) => {\n        const mes = new Date(inscricao.createdAt).toLocaleDateString('pt-BR', {\n          month: 'long',\n          year: 'numeric',\n        });\n\n        const total = inscricoesPorMesMap.get(mes) || 0;\n        inscricoesPorMesMap.set(mes, total + 1);\n      });\n\n      const inscricoesPorMes = Array.from(inscricoesPorMesMap.entries())\n        .map(([mes, total]) => ({\n          mes,\n          total,\n        }))\n        .sort((a, b) => {\n          // Ordenar cronologicamente\n          try {\n            const [mesA, anoA] = a.mes.split(' ');\n            const [mesB, anoB] = b.mes.split(' ');\n            const dateA = new Date(parseInt(anoA), getMonthNumber(mesA) - 1);\n            const dateB = new Date(parseInt(anoB), getMonthNumber(mesB) - 1);\n            return dateA.getTime() - dateB.getTime();\n          } catch {\n            return 0;\n          }\n        })\n        .slice(-6);\n\n      res.status(200).json({\n        totalInscritos,\n        totalEventos,\n        eventosPorStatus,\n        totalUsuariosAtivos,\n        totalUsuarios,\n        totalPromoters,\n        promotersPendentes,\n        promotersAprovados,\n        locaisMaisPopulares,\n        taxaAceitacao: {\n          eventos: {\n            aprovados: eventosAprovados,\n            rejeitados: eventosRejeitados,\n            taxaAprovacao: taxaAprovacaoEventos,\n          },\n          promoters: {\n            aprovados: promotersAprovados,\n            rejeitados: promotersRejeitadosCount,\n            taxaAprovacao: taxaAprovacaoPromoters,\n          },\n        },\n        eventosPorMes,\n        inscricoesPorMes,\n      });\n    } catch (error) {\n      console.error('Erro ao buscar estatsticas:', error);\n      throw error;\n    }\n  }\n}\n\n// Funo auxiliar para converter nome do ms em nmero (1-12)\nfunction getMonthNumber(monthName: string): number {\n  const months: { [key: string]: number } = {\n    janeiro: 1,\n    fevereiro: 2,\n    maro: 3,\n    abril: 4,\n    maio: 5,\n    junho: 6,\n    julho: 7,\n    agosto: 8,\n    setembro: 9,\n    outubro: 10,\n    novembro: 11,\n    dezembro: 12,\n  };\n  return months[monthName.toLowerCase()] || 1;\n}\n\nexport { AdminStatsController };\n\n","import { Router } from 'express';\nimport { AdminStatsController } from '@/controllers/AdminStatsController';\nimport { authenticationHandler } from '@/middlewares/AuthenticationHandler';\nimport { authorizationHandler } from '@/middlewares/AuthontizationHandler';\n\nconst adminRouter = Router();\nconst adminStatsController = new AdminStatsController();\n\n// Estatsticas administrativas (apenas admin)\nadminRouter.get('/stats', authenticationHandler, authorizationHandler(['admin']), adminStatsController.index);\n\nexport { adminRouter };\n\n","import { Router } from \"express\";\nimport { authenticationRouter } from \"./authenticationRouter\";\nimport { eventRouter } from \"./eventRouter\";\nimport { promoterRouter } from \"./promoterRouter\";\nimport { eventRegistrationRouter } from \"./eventRegistrationRouter\";\nimport { savedEventRouter } from \"./savedEventRouter\";\nimport { adminRouter } from \"./adminRouter\";\n\nconst router = Router();\n\nrouter.use(\"/entrar\", authenticationRouter);\nrouter.use(\"/eventos\", eventRouter);\nrouter.use(\"/promoters\", promoterRouter);\nrouter.use(\"/inscricoes\", eventRegistrationRouter);\nrouter.use(\"/eventos-salvos\", savedEventRouter);\nrouter.use(\"/admin\", adminRouter);\n\nexport { router };\n","import { Request, Response, NextFunction } from 'express';\nimport { HttpError } from '@/utils/exceptions/http';\nimport { ZodError } from 'zod';\n\nexport function requestErrorHandler(err: any, req: Request, res: Response, next: NextFunction) {\n  if (res.headersSent) {\n    return next(err);\n  } else if (err instanceof HttpError) {\n    return res.status(err.statusCode).json({ message: err.message });\n  } else if (err instanceof ZodError) {\n    return res.status(400).json({ message: 'Erro de validao', issues: err.issues });\n  } else {\n    return res.status(500).json({ message: 'Erro interno do servidor: ' + err.message });\n  }\n}\n","import 'dotenv/config';\nimport express, { NextFunction, Request, Response } from \"express\";\nimport \"express-async-error\"\nimport cors from \"cors\";\nimport { router } from \"./routes\";\nimport { requestErrorHandler } from \"./middlewares/requestErrorHandler\";\n\nconst app = express();\n\napp.use(cors());\napp.use(express.json());\n\napp.use(\"/api\", router);\n\napp.use(requestErrorHandler);\n\nexport { app };\n","import { app } from \"./app\"\n\nconst PORT = 3000;\n\napp.listen(PORT, () => {\n  console.log(`O servidor est rodando em http://localhost:${PORT}`);\n})\n"]}